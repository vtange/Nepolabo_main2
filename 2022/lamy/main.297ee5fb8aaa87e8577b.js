/*! For license information please see main.297ee5fb8aaa87e8577b.js.LICENSE.txt */
(()=>{var e,t={3854:(e,t,n)=>{"use strict";var o=n(6487),r=n(7085),i=n(7560),a=n(4730),s=(n(7646),n(8096)),u=n.n(s),l="UPDATE_BGM",c="PLAY_SOUND",d="STOP_SOUND",f="OPTIONS_ADJUST_SOUND_VOLUME.",p="MUTE_AUDIO_CAUSE_USER_LEFT.",h="CHANGE_LANGUAGE",m="GEVT_RESIZE",y="UILAYER_UPDATE_CONSTACK",b="GAMELAYER_UNMOUNT",g="MASTERLOADSCRN_ADD_TASK",v="CHANGE_DIALOGUE_TRACK",w="FIRE_BUTTON_CLICKED",N="GAME_END",T="OKAY_TO_LOAD_GAME_ASSETS",_="GAME_ASSETS_RDY",k="DAIFUKU_RELOAD",S="YUKIMIN_POPUP",x="YUKIMIN_SLIDER",E="SCORE_UPDATE",P="SCORE_RESET";function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===j(i)?i:String(i)),o)}var r,i}const L=function(e){var t,n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyval-store",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyval";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storeName=n,this._dbp=new Promise((function(e,o){var r=indexedDB.open(t,1);r.onerror=function(){return o(r.error)},r.onsuccess=function(){return e(r.result)},r.onupgradeneeded=function(){r.result.createObjectStore(n)}}))}var t,n,o;return t=e,n=[{key:"_withIDBStore",value:function(e,t){var n=this;return this._dbp.then((function(o){return new Promise((function(r,i){var a=o.transaction(n.storeName,e);a.oncomplete=function(){return r()},a.onabort=a.onerror=function(){return i(a.error)},t(a.objectStore(n.storeName))}))}))}}],n&&O(t.prototype,n),o&&O(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(){return t||(t=new n),t}return e.Store=n,e.get=function(e){var t;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o())._withIDBStore("readonly",(function(n){t=n.get(e)})).then((function(){return t.result}))},e.set=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:o())._withIDBStore("readwrite",(function(n){n.put(t,e)}))},e.del=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o())._withIDBStore("readwrite",(function(t){t.delete(e)}))},e.clear=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o())._withIDBStore("readwrite",(function(e){e.clear()}))},e.keys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(),t=[];return e._withIDBStore("readonly",(function(e){(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}})).then((function(){return t}))},e}({});var I=function(e,t){console.error(t),e(!1)},A=function(e,t){L.get(e).then((function(e){t(e||!1)})).catch(I.bind(this,t))},M=function(e,t,n){L.set(e,t).then(n.bind(null,!0)).catch(I.bind(this,n))},V=function(e,t,n){M("opt_lang",e,(function(e){e?t():n()}))},C=function(e,t){A("opt_lang",(function(t){e(t||J.lang)}))},R=function(e,t,n){M("opt_mute",e,(function(e){e?t():n()}))},B=function(e,t){A("opt_mute",(function(t){e(t||J.bgmvol)}))};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==D(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===D(i)?i:String(i)),o)}var r,i}var J={bgmvol:.7,lang:"JP",savefile:Object.create(null)},F="opt_",H="bgmvol",U="lang",K=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.saveState=J,this.bUseLocalStorage=t,this.loadInitialState(this.bUseLocalStorage),this.allInitialLoading.then((function(){console.warn("Initial savestate/options load complete.")}))}var t,n,o;return t=e,(n=[{key:"get",value:function(e){return this.saveState[e]}},{key:"loadInitialState",value:function(e){var t=this;if(e){var n=localStorage.getItem(F+H)||J.bgmvol,o=localStorage.getItem(F+U)||J.lang;this.saveState[H]=Number(n),this.saveState[U]=o,this.syncBodyAttribute("bgmvol",n.toString()),this.syncBodyAttribute("swaplang",o),this.allInitialLoading=Promise.all([])}else{var r={loadBGMSettings:new Promise(B),loadLangSettings:new Promise(C)};this.allInitialLoading=Promise.all([r.loadBGMSettings,r.loadLangSettings]),r.loadBGMSettings.then((function(e){t.saveState[H]=Number(e),t.syncBodyAttribute("bgmvol",e)})),r.loadLangSettings.then((function(e){t.saveState[U]=e,t.syncBodyAttribute("swaplang",e)}))}}},{key:"saveBGMSettings",value:function(e){var t=this;return u().publish(f,e),this.bUseLocalStorage?(window.localStorage.setItem(F+H,e),this.syncBodyAttribute("bgmvol",e),e):new Promise(R.bind(null,e)).then((function(){t.syncBodyAttribute("bgmvol",e)}))}},{key:"saveLanguageSettings",value:function(e){var t=this;return this.bUseLocalStorage?(window.localStorage.setItem(F+U,e),this.syncBodyAttribute("swaplang",e),e):new Promise(V.bind(null,e)).then((function(){t.syncBodyAttribute("swaplang",e)}))}},{key:"syncBodyAttribute",value:function(e,t){document.body.setAttribute("data-"+e,t)}}])&&G(t.prototype,n),o&&G(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Y="_KEYUP";function W(e){this.self=e.slice(),this.startingValue=e.slice(),this.oCollectedCtrls=Object.create(null)}W.prototype.reset=function(){this.self=this.startingValue.slice(),this.oCollectedCtrls=Object.create(null),this.pushToUILayer()},W.prototype.setConstack=function(e){var t=!1;if("string"!=typeof e)return console.warn("setConstack:",e,"not a valid constack value. returning with no changes."),this;for(var n=0;n<this.self.length;n++)if(this.self[n]===e){t=!0,this.self=this.self.slice(0,n+1);break}t||this.self.push(e),this.pushToUILayer()},W.prototype.goBack=function(){this.self=this.self.slice(0,this.self.length-1),this.pushToUILayer()},W.prototype.pushToUILayer=function(){u().publish(y,this.self.slice())},W.prototype.processKeyDownEvent=function(e){var t=this.self[this.self.length-1];this.oCollectedCtrls[t]&&this.keyHandler.call(this,this.oCollectedCtrls[t],e),e.stopImmediatePropagation()},W.prototype.processKeyUpEvent=function(e){var t=this.self[this.self.length-1];this.oCollectedCtrls[t+Y]&&this.keyHandler.call(this,this.oCollectedCtrls[t+Y],e),e.stopImmediatePropagation()},W.prototype.setKeyboardEventHandler=function(e,t,n){n?this.oCollectedCtrls[e+Y]=t:this.oCollectedCtrls[e]=t},W.prototype.keyHandler=function(e,t){"function"==typeof e[t.code]&&e[t.code]()};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new S(r||[]);return o(a,"_invoke",{value:N(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var m={};u(m,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(x([])));b&&b!==t&&n.call(b,i)&&(m=b);var g=h.prototype=f.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==z(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function N(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=c(e,t,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=c(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}throw new TypeError(z(e)+" is not iterable")}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new w(l(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),u(g,s,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function X(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t,n,o,r,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(o,r)}var q="GAMELAYER",Q="MAINMENU",ee="MESSAGESSCRN",te="OPTIONSMDL",ne="HOWTOPLAYMDL",oe="fire-btns",re=[Q],ie=new W(re),ae=new K,se=function(){var e,t=(e=$().mark((function e(t,n){var o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.allInitialLoading;case 2:return ie.reset(re),e.abrupt("return",(X(o={},"SYS_FORCE_UNMOUNT",!1),X(o,"SYS_TEST_NAME",n||""),o));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){Z(i,o,r,a,s,"next",e)}function s(e){Z(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();function ue(e,t){return function(e,t){return t.type,e}(e,t)}var le=n(6638);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==ce(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ce(i)?i:String(i)),o)}var r,i}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=he(e);if(t){var r=he(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}const me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(a,e);var t,n,r,i=pe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={constack:ie.self.slice()},t}return t=a,(n=[{key:"componentDidMount",value:function(){u().subscribe(y,function(e,t){this.setState({constack:t})}.bind(this)),this.toggleGameCanvasKeyboardEvents()}},{key:"componentDidUpdate",value:function(){this.toggleGameCanvasKeyboardEvents()}},{key:"componentWillUnmount",value:function(){u().unsubscribe(y)}},{key:"processConstack",value:function(e){for(var t=Object.create(null),n=0;n<e.constack.length;n++)t[e.constack[n]]=n;return t}},{key:"toggleGameCanvasKeyboardEvents",value:function(){}},{key:"getShouldBeClickable",value:function(e){return e===this.state.constack[this.state.constack.length-1]}},{key:"getConstackClass",value:function(e,t){var n="constackControlled";return void 0!==e[t]&&(n+="constackVisible constacked"+e[t],this.getShouldBeClickable(t)&&(n+=" constackClickable")),n}},{key:"render",value:function(){var e=this.processConstack(this.state);return(0,o.createVNode)(1,"div",null,[(0,o.createComponentVNode)(2,ln,{classes:this.getConstackClass(e,ee)+" semi-transp-bg"}),(0,o.createComponentVNode)(2,gn),(0,o.createComponentVNode)(2,vn,{classes:this.getConstackClass(e,ne)}),(0,o.createComponentVNode)(2,wn,{classes:this.getConstackClass(e,te)}),(0,o.createVNode)(1,"div",null,(0,o.createVNode)(1,"div",null,null,1,{id:"yukimin"}),2,{id:"characters-layer"}),(0,o.createVNode)(1,"div","mainmenu-container semi-transp-bg",[(0,o.createComponentVNode)(2,xn),(0,o.createComponentVNode)(2,en)],4),(0,o.createVNode)(1,"div","hud",[(0,o.createVNode)(1,"div","top-row",(0,o.createComponentVNode)(2,Et),2),(0,o.createVNode)(1,"div","mid-screen",[(0,o.createVNode)(1,"span","game-start-text ready-text",(0,o.createTextVNode)("READY..."),2),(0,o.createVNode)(1,"span","game-start-text go-text",(0,o.createTextVNode)("GO!!!"),2)],4),(0,o.createVNode)(1,"div","btm-row",(0,o.createVNode)(1,"div","game-controls",[(0,o.createComponentVNode)(2,_t,{index:0}),(0,o.createComponentVNode)(2,_t,{index:1}),(0,o.createComponentVNode)(2,_t,{index:2}),(0,o.createComponentVNode)(2,_t,{index:3})],4,{id:oe}),2,{style:"pointer-events:all"})],4)],4,{id:"ui-layer","data-control-stack-last":this.state.constack[this.state.constack.length-1]})}}])&&de(t.prototype,n),r&&de(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);var ye=n(8103),be=n(8324),ge=n(5187),ve=n(108),we=n(2385),Ne=n(89),Te=n(4179),_e=(n(9765),n(637)),ke=n.n(_e),Se=(n(2971),n(9006),n(3182)),xe=n(4065),Ee=n(8059),Pe=n(2587),je=n(6388),Oe=n(4872),Le=n(4436),Ie=n(6134),Ae=n(2067),Me=n(6331),Ve={loop_bgm_title:["assets/bgm/menu.mp3",.2],loop_bgm_game:["assets/bgm/battle.mp3",.2],food_throw:["assets/sfx/swing1.mp3",.6],hit_normal:["assets/sfx/smack1dong.mp3",.9],hit_better:["assets/sfx/smack1dudong.mp3",.9],hit_wall:["assets/sfx/smack1.mp3",.8],yukimin_piston:["assets/sfx/slideopen.mp3",1],ready_set:["assets/sfx/shakuhachiboop.mp3",.4]},Ce=Object.create(null);Object.keys(Ve).forEach((function(e){Ce[e]=e}));var Re=document.getElementById("inject");function Be(){document.hidden?u().publish(p,!0):u().publish(p,!1)}function De(){this.fernScene.engine.audioEngine&&!this.fernScene.engine.audioEngine.unlocked&&this.fernScene.engine.audioEngine.unlock(),this.userHasInteractedBefore=!0,this.triggerCurrentBGM()}function Ge(e){this.fernScene=e,this.scene=e.self,this.sounds=Object.create(null),this.sounds_customVolume=Object.create(null),this.baseBGM="",this.eventOrOverlayBGM="",this.userHasInteractedBefore=!1,this.loadBatch(Ve),window.addEventListener("click",De.bind(this)),document.addEventListener("visibilitychange",Be,!1),u().subscribe(b,function(e,t){this.userHasInteractedBefore||window.removeEventListener("click",De),document.removeEventListener("visibilitychange",Be,!1)}.bind(this)),u().subscribe(l,function(e,t){this.updateBGM(t),this.triggerCurrentBGM()}.bind(this)),u().subscribe(c,function(e,t){this.userHasInteractedBefore?this.sounds[t]&&this.sounds[t].isReady()&&this.sounds[t].play():console.log("tried playing sound, '"+t+"' without userHasInteractedBefore")}.bind(this)),u().subscribe(d,function(e,t){this.sounds[t]&&this.sounds[t].isPlaying&&this.sounds[t].stop()}.bind(this))}function Je(e,t){be.D.ShadersRepository="shaders/",this.canvasElement=e,this.shadowGen=null,this.engine=new be.D(e,!0),this.engine.enableOfflineSupport=!1,this.self=new Se.x(this.engine),this.self.clearColor=new ve.Wo(0,0,0),this.self.ambientColor=new ve.Wo(1,.9,.87),this.importMeshWrapper=new(ke())(this,{SceneLoader:je.n,Color3:ve.Wo,Material:Ae.F,MaterialPluginBase:Ie.n,PBRBaseMaterial:Oe.m,RegisterMaterialPlugin:Le.rs,TransformNode:Te.Y},!1),t&&(this.fernAudioManager=new Ge(this));var n=we.Kj.CreateSphere("LIGHT_SPHERE",4,.2,this.self),o=new Ne.K("LIGHT_SPHERE_MATERIAL",this.self);o.emissiveColor=ve.Wo.White(),n.position.x=4,n.position.y=4,n.position.z=-4,n.material=o,this.lighting=this.getLighting(n),this.camera=this.getCamera(e),this.self.activeCamera=this.camera}Ge.prototype.loadBatch=function(e){var t=this.scene,n=Object.create(null);for(var o in n.proms=[],n.names=[],e)n.names.push("load_new_BJS.Sound_"+e[o][0]),n.proms.push(new Promise(function(n,r){Array.isArray(e[o])?this.sounds[o]=new Me.$u(o,e[o][0],t,this.onFinishLoadingSound.bind(this,o,n,r),{loop:-1!==o.indexOf("loop"),autoplay:!1}):(n(!0),console.error(o+" is not a valid manifest entry."))}.bind(this)));return n},Ge.prototype.onFinishLoadingSound=function(e,t,n){this.sounds_customVolume[e]=Number(ae.get("bgmvol")),this.sounds[e].setVolume(this.getFinalVolume(e)),u().subscribe(f,function(t,n){"number"!=typeof n&&(n=Number(n)),this.sounds_customVolume[e]=n,this.sounds[e].setVolume(this.getFinalVolume(e))}.bind(this)),u().subscribe(p,function(t,n){this.sounds[e].setVolume(n?0:this.getFinalVolume(e))}.bind(this)),t(!0)},Ge.prototype.getFinalVolume=function(e){return Ve[e][1]*this.sounds_customVolume[e]},Ge.prototype.updateBGM=function(e){e.isEventBGM?this.eventOrOverlayBGM=e.name||"":this.baseBGM=e.name||"",Re&&(console.warn("Base BGM: ",this.baseBGM||"none"),console.warn("Overlay BGM: ",this.eventOrOverlayBGM||"none"))},Ge.prototype.triggerCurrentBGM=function(){this.userHasInteractedBefore?this.oldBaseBGM&&this.oldBaseBGM.name===this.baseBGM||(this.oldBaseBGM&&this.oldBaseBGM.isPlaying&&(this.oldBaseBGM.stop(),this.oldBaseBGM=null),this.baseBGM&&this.sounds[this.baseBGM]&&!this.sounds[this.baseBGM].isPlaying?(this.sounds[this.baseBGM].play(),this.oldBaseBGM=this.sounds[this.baseBGM],window.setTimeout((function(){var e=document.getElementById("babylonUnmuteIconBtn");e&&e.click()}),500)):this.baseBGM&&!this.sounds[this.baseBGM]&&console.warn("found no BGM named '"+this.baseBGM+"', loaded sounds: "+JSON.stringify(Object.keys(this.sounds)))):console.log("BGM set to '"+this.baseBGM+"', awaiting user interaction")},Je.prototype.clockFunction=function(){var e=0;window.setInterval((function(){e++,u().publish("interval_1000"),e%2==0?u().publish("interval_2000"):e%3==0?u().publish("interval_3000"):e>=12&&(e=0)}),1e3)},Je.prototype.runRenderLoop=function(e){this.setLowRes(),this.engine.runRenderLoop(e),this.clockFunction(),u().subscribe(m,function(e,t){this.setZoomFromScreenAspectRatio(),this.engine.resize(),this.setLowRes()}.bind(this)),this.setZoomFromScreenAspectRatio(),this.engine.resize()},Je.prototype.setLowRes=function(){var e=Math.min(1,12e5/(this.engine.getRenderWidth()*this.engine.getRenderHeight()));this.engine.setSize(this.engine.getRenderWidth()*e,this.engine.getRenderHeight()*e)},Je.prototype.setZoomFromScreenAspectRatio=function(){this.camera.radius=-2.3-6*Math.max(0,1.327-Math.max(.66,window.outerWidth/window.outerHeight)),this.camera.radius-=10*Math.max(0,.66-window.outerWidth/window.outerHeight),this.camera.beta=1.927+Math.max(0,.66-window.outerWidth/window.outerHeight)},Je.prototype.getCamera=function(e){var t=new xe.Y("Camera",1.571,1.927,-2.3,new ve.P(-2,1.2,4),this.self);return t.wheelPrecision=50,t.fov=.474,t},Je.prototype.getLighting=function(e){var t=new Pe.e("baseLighting",new ve.P(0,1,0),this.self);return t.diffuse=new ve.Wo(.6,.2,.2),t.intensity=1,t.falloffType=Ee._k.FALLOFF_GLTF,t.lightmapMode=Ee._k.LIGHTMAP_DEFAULT,[t]},Je.prototype.clearMap=function(){var e=this.self;if(this.engine&&e.meshes.length)return this.engine.stopRenderLoop(),e.dispose(),this.self=new Se.x(this.engine),this.self;console.error("clearMap: Nothing to clear")};const Fe=Je;function He(e,t){this.faceablePoints={},Fe.call(this,e,t)}He.prototype=Object.create(Fe.prototype),He.prototype.constructor=He,He.prototype.meshPostLoadAddHoverBobbleAnimation=function(e,t){var n=new ye.f("floatAnim","position.y",60,ye.f.ANIMATIONTYPE_FLOAT,ye.f.ANIMATIONLOOPMODE_CYCLE),o=[];o.push({frame:0,value:0}),o.push({frame:10,value:.001}),o.push({frame:80,value:t}),o.push({frame:100,value:t}),o.push({frame:170,value:.001}),o.push({frame:180,value:0}),n.setKeys(o),this.self.beginDirectAnimation(e,[n],0,180,!0,1)},He.prototype.meshPostLoadProcessFaceTextures=function(e,t){var n=this,o=null;if(t.forEach((function(e){-1!==e.name.indexOf("FACEMATERIAL")&&(o=e)})),o){var r=function(){var t=new ge.x(e.faces[i],n.self,!1,!1);t.hasAlpha=!0,"close_eyes"==i&&window.setInterval((function(){var e=o.albedoTexture;o.albedoTexture=t,window.setTimeout((function(){o.albedoTexture=e}),100)}),3e3),u().subscribe(e.name+"_face_"+i,(function(){o.albedoTexture=t}))};for(var i in e.faces)r()}},He.prototype.meshPostLoadProcessAnimations=function(e,t){var n=null;for(var o in t)u().subscribe(e.name+"_anim_"+o,t[o].bind(this)),"idle_"===o&&(n=o);n&&u().publish(e.name+"_anim_"+n)},He.prototype.performTranslationAnimation=function(e,t,n,o){for(var r,i,a=["x","y","z"],s=[],u=0;u<a.length;u++){var l=a[u],c=t[l],d=n[l],f=(r=t,i=n,Math.pow(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)+Math.pow(i.z-r.z,2),.5))/o;s[u]=new ye.f("moveAnim","position."+l,60,ye.f.ANIMATIONTYPE_FLOAT,ye.f.ANIMATIONLOOPMODE_CONSTANT);var p=[];p.push({frame:0,value:c}),p.push({frame:.02*f,value:.98*c+.02*d}),p.push({frame:.4*f,value:.6*c+.4*d}),p.push({frame:.6*f,value:.4*c+.6*d}),p.push({frame:.98*f,value:.02*c+.98*d}),p.push({frame:f,value:d}),s[u].setKeys(p)}return new Promise(function(t,n){this.self.beginDirectAnimation(e,s,0,f,!1,1,(function(){t(e)}))}.bind(this))},He.prototype.meshPostLoadSetGltfRootMeshPosition=function(e,t,n,o,r){if(r){var i=new Te.Y("childFacingNode_"+r);i.position.x=0,i.position.y=0,i.position.z=.6,i.parent=e.root,e.facingNode=i}e.root.position.x=t,e.root.position.y=n,e.root.position.z=o},He.prototype.animation3DTranslateAndFaceTarget=function(e,t,n,o){if(!t.busy){var r=o.finalPosition,i=t.root.position;if(i.x!==r.x||i.y!==r.y||i.z!==r.z){if(t.busy=!0,t.facingNode){var a=new Te.Y("tempLookAtPt_"+e);a.position=t.facingNode.getAbsolutePosition().clone(),this.faceablePoints[e]=[t.root,a],this.performTranslationAnimation(a,a.position,r,4*o.charSpeed).then(function(t){delete this.faceablePoints[e],a.dispose()}.bind(this))}this.performTranslationAnimation(t.root,t.root.position,r,o.charSpeed).then((function(e){t.busy=!1}))}}};const Ue=He;var Ke={fightroom:{name:"fightroom",nodes:["Cube","c","Cylinder","Cylinder.001","Cylinder.002","Cylinder.003","Cylinder.004","Cylinder.005","fram","tablecurtain"],path:["assets/","fight_room.glb"],useAlbedoAsLightmap:!0},daifukureload:{name:"daifukureload",nodes:["Plane","cover","daifuku","plate"],path:["assets/","daifukureload.glb"],unlit:!0},bento:{name:"bento",nodes:["bento"],path:["assets/","bento.glb"],unlit:!0},cake:{name:"cake",nodes:["berry","kek","plate"],path:["assets/","cake.glb"],unlit:!0},curry:{name:"curry",nodes:["curr","ric","plate"],path:["assets/","curry.glb"],unlit:!0},onigiri:{name:"onigiri",nodes:["nigiri","plate"],path:["assets/","onigiri.glb"],unlit:!0},ramen:{name:"ramen",nodes:["addon","bowl","chop"],path:["assets/","ramen.glb"],unlit:!0},sushi:{name:"sushi",nodes:["nigiri","nigiri.001","nigiri.002","maki","maki.001","maki.002","wasabi","plate"],path:["assets/","sushi.glb"],unlit:!0},flatyukimin:{name:"flatyukimin",nodes:["BOARD"],path:["assets/","flatyukimin.glb"],unlit:!0}},Ye={furns:{fightroom:[[[-2,.45,3.9],0]]}},We={furns:{daifukureload:[[[-5.25,.8,4.7],0]],cake:[[[-5.25,.87,4.23],45]],bento:[[[-5.75,.87,4.23],0]],curry:[[[-5.25,.87,4.23],0]],onigiri:[[[-5.75,.87,4.23],0]],ramen:[[[-5.75,.87,4.23],0]],sushi:[[[-5.25,.87,4.23],0]],flatyukimin:[[[-3.5,.42,5.45],0],[[-3.5,.42,6.45],0],[[-3.5,.42,7.35],0],[[-2.75,-.3,5.45],0],[[-2.75,-.3,6.45],0],[[-2.75,-.3,7.35],0],[[-2.25,-.3,5.45],0],[[-2.25,-.3,6.45],0],[[-2.25,-.3,7.35],0],[[-1.75,-.3,5.45],0],[[-1.75,-.3,6.45],0],[[-1.75,-.3,7.35],0],[[-1.25,-.3,5.45],0],[[-1.25,-.3,6.45],0],[[-1.25,-.3,7.35],0]]}},ze=be.D.isSupported();function $e(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:420,r=new ye.f("floatAnim","position.x",60,ye.f.ANIMATIONTYPE_FLOAT,ye.f.ANIMATIONLOOPMODE_CONSTANT),i=[];i.push({frame:0,value:"right"===n?-3.5:-.5}),i.push({frame:o,value:"right"===n?-.5:-3.5}),r.setKeys(i),t.position.y=.42,t.metadata.hit=!1,t.metadata.slideAnimation=e.self.beginDirectAnimation(t,[r],0,o,!1,1,(function(){t.metadata.slideAnimation=null}))}var Xe=20;function Ze(e,t){var n=new ye.f("floatAnim","position.y",60,ye.f.ANIMATIONTYPE_FLOAT,ye.f.ANIMATIONLOOPMODE_CONSTANT),o=[];o.push({frame:0,value:-.3}),o.push({frame:Xe,value:.42}),n.setKeys(o),u().publish(c,"yukimin_piston"),t.metadata.hit=!1,t.metadata.slideAnimation=e.self.beginDirectAnimation(t,[n],0,Xe,!1,1,(function(){t.metadata.slideAnimation=null})),t.metadata.popoutTimeout=window.setTimeout((function(){Qe(e,t)}),2e3)}var qe=Object.create(null);function Qe(e,t){var n=new ye.f("floatAnim","position.y",60,ye.f.ANIMATIONTYPE_FLOAT,ye.f.ANIMATIONLOOPMODE_CONSTANT),o=[];o.push({frame:0,value:.42}),o.push({frame:Xe,value:-.3}),n.setKeys(o),u().publish(c,"yukimin_piston"),t.metadata.slideAnimation=e.self.beginDirectAnimation(t,[n],0,Xe,!1,1,(function(){t.metadata.slideAnimation=null,t.position=qe[t.name]}))}var et=-1;function tt(e,t,n){if(t.metadata.imageHolder)t.metadata.food=n,t.metadata.imageHolder.material.diffuseTexture=nt[n];else{var o="imageHolder_"+t.name;t.metadata.food=n;var r=t.metadata.imageHolder=we.Kj.CreateGround(o,1.2,1.2,4,e.self);r.parent=t.getChildMeshes()[0],r.rotation.x=90*Math.PI/180,r.position.x=.03,r.position.z=.1,r.position.y=2,r.scaling.z*=-1;var i=new Ne.K("material_"+o,e.self);i.diffuseTexture=nt[n],i.emissiveColor=new ve.Wo(1,1,1),i.disableLighting=!0,r.material=i}}var nt=Object.create(null),ot=Object.create(null),rt=function(e){var t,n,o=e||document.getElementById(q);if(ze){if(null!=o){var r=new Ue(o,true),i=[],a=function(){for(var e=function(){var e=i[t],n=function(e,t){var n=[];t.position.x<-2.5?n=["BOARD_inst_3","BOARD_inst_4","BOARD_inst_5"]:t.position.x<-2?n=["BOARD_inst_6","BOARD_inst_7","BOARD_inst_8"]:t.position.x<-1.5?n=["BOARD_inst_9","BOARD_inst_10","BOARD_inst_11"]:t.position.x<-1&&(n=["BOARD_inst_12","BOARD_inst_13","BOARD_inst_14"]);for(var o=["BOARD_inst_0","BOARD_inst_1","BOARD_inst_2"].concat(n),r=null,i=0;i<o.length;i++)if((r=e.self.getMeshByName(o[i]))&&t.intersectsMesh(r))return r.parent;return null}(r,e);n||e.position.z>=7.3?(e.rotation.x=90,e.position.z-=.1,n?(n.metadata.slideAnimation&&!n.metadata.hit&&(n.metadata.slideAnimation.stop(),n.metadata.slideAnimation=null),n.metadata.popoutTimeout&&(window.clearTimeout(n.metadata.popoutTimeout),n.metadata.popoutTimeout=null),n.metadata.hit||(n.metadata.hit=!0,window.setTimeout((function(){Qe(r,n)}),600)),ot[e.name]?u().publish(c,"hit_wall"):(ot[e.name]=!0,e.name.split("_")[0]==n.metadata.food?(u().publish(c,"hit_better"),u().publish(E,3)):(u().publish(c,"hit_normal"),u().publish(E,1)))):u().publish(c,"hit_wall"),window.setTimeout(function(e){e.dispose()}.bind(null,e),600)):90!==e.rotation.x&&(e.position.z+=.15)},t=i.length-1;t>=0;t--)e();r.self.render()}.bind(r);t=r.importMeshWrapper.loadMeshes(Ye,Ke),n=Promise.all(t.promiseChain).then((function(){r.runRenderLoop(a)})),u().publish(g,{name:"importMeshWrapper.loadMeshes_map",prom:n}),u().publish(l,{name:Ce.loop_bgm_title});var s=[null,null,null,null];u().subscribe(w,(function(e,t){u().publish(c,"food_throw"),s[t]&&(i.push(s[t]),s[t]=null,u().publish(k,t))}));var d=!1;return u().subscribe(T,function(e,t){if(!d){d=!0;var n=r.importMeshWrapper.loadMeshes(We,Ke);Promise.all(n.promiseChain).then((function(e){var t=Object.create(null),n=Object.create(null),o=[];function a(){var e=[-2.75,-2.25,-1.75,-1.25],i=o.shift();t.position.x=void 0===i?-5.25:e[i],window.setTimeout(function(i){if(document.body.classList.contains("INGAME")){var u=Date.now(),l=["cake","bento","curry","onigiri","ramen","sushi"][et=5===et?0:et+1],c=we.Kj.CreateGround(l+"_"+u,.23,.23,4,r.self);c.position.x=e[i],c.position.y=.88,c.position.z=4.23,c.isVisible=!1,c.checkCollisions=!0,c.scaling.z*=-1,s[i]=c;for(var d=null,f=0;f<n[l].length;f++)(d=n[l][f].createInstance(l+u))&&(d.scaling=n[l][f].scaling.clone(),n[l][f].rotationQuaternion?d.rotationQuaternion=n[l][f].rotationQuaternion.clone():d.rotation=n[l][f].rotation.clone(),n[l].length>1?d.position=n[l][f].position.clone():(d.position.x=0,d.position.y=0,d.position.z=0),d.parent=c);o.length?a():t.position.x=-5.25}else t.position.x=-5.25}.bind(null,i),300)}for(var l=[],c={SLIDER:[0,1,2],LEFT:[3,4,5],MIDLEFT:[6,7,8],MIDRIGHT:[9,10,11],RIGHT:[12,13,14]},d=0;d<e.length;d++)"daifukureload"===e[d].manifest.name?(t=e[d].root,u().subscribe(k,(function(e,n){document.body.classList.contains("INGAME")&&(o.push(n),-5.25===t.position.x&&a())}))):"flatyukimin"===e[d].manifest.name?((l=e[d].root.getChildMeshes()[0].instances).forEach((function(e,t){l[t]=e.parent,l[t].metadata=Object.create(null),qe[l[t].name]=l[t].position.clone()})),u().subscribe(x,(function(e,t){if(document.body.classList.contains("GAME_START")){var n=l[c.SLIDER[t.idx]];tt(r,n,t.food),$e(r,n,t.dir,t.speed)}})),u().subscribe(S,(function(e,t){if(document.body.classList.contains("GAME_START")){var n=l[c[t.pos][t.idx]];tt(r,n,t.food),Ze(r,n)}}))):n[e[d].manifest.name]=e[d].root.getChildMeshes();return nt.bento=new ge.x("assets/bento.png",r.self),nt.cake=new ge.x("assets/cake.png",r.self),nt.curry=new ge.x("assets/curry.png",r.self),nt.onigiri=new ge.x("assets/onigiri.png",r.self),nt.ramen=new ge.x("assets/ramen.png",r.self),nt.sushi=new ge.x("assets/sushi.png",r.self),nt.bento.hasAlpha=!0,nt.cake.hasAlpha=!0,nt.curry.hasAlpha=!0,nt.onigiri.hasAlpha=!0,nt.ramen.hasAlpha=!0,nt.sushi.hasAlpha=!0,u().publish(_),u().subscribe(N,function(){o=[],a(),s.forEach((function(e){e&&e.dispose()})),s=[null,null,null,null],ot=Object.create(null),i.forEach((function(e){e&&e.dispose()})),i=[],l.forEach((function(e){e&&(e.metadata.food=void 0,e.metadata.hit=!1,e.metadata.slideAnimation=null,e.metadata.popoutTimeout=null,e.position=qe[e.name])}))}.bind(this)),"got game assets"}))}}.bind(this)),r}console.error("Could not find <canvas> with ID:",q)}else console.error("no WEBGL/BABYLONJS support")};function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}var at=function(){},st=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!==it(t[n])&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t};function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function lt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==ut(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ut(i)?i:String(i)),o)}var r,i}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ft(e);if(t){var r=ft(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function pt(){document.body.setAttribute("data-keyboard-found","true"),document.removeEventListener("keydown",pt)}var ht,mt,yt,bt,gt=(ht=u().publish.bind(null,m),mt=100,function(){var e=this,t=arguments,n=yt&&!bt;clearTimeout(bt),bt=setTimeout((function(){bt=null,yt||ht.apply(e,t)}),mt),n&&ht.apply(e,t)});const vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(a,e);var t,n,r,i=dt(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",ie.processKeyDownEvent.bind(ie)),document.addEventListener("keyup",ie.processKeyUpEvent.bind(ie)),window.addEventListener("resize",gt,!1),document.addEventListener("keydown",pt),rt(this.node)}},{key:"componentShouldUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",pt),document.removeEventListener("keydown",ie.processKeyDownEvent.bind(ie)),document.removeEventListener("keyup",ie.processKeyUpEvent.bind(ie)),window.removeEventListener("resize",gt),u().publish(b)}},{key:"render",value:function(){var e=this;return(0,o.createVNode)(1,"canvas",null,null,1,{id:q},null,(function(t){e.node=t}))}}])&&lt(t.prototype,n),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);const wt=function(){return(0,o.createVNode)(1,"div",null,[(0,o.createComponentVNode)(2,me),(0,o.createComponentVNode)(2,vt)],4,{id:"main-layer"})};var Nt=n(2703),Tt=n.n(Nt);const _t=function(e){var t=Tt()({"fire-button":!0});return(0,o.createVNode)(1,"button",t,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Fire"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("撃つ"),2,{"data-swaplang":"JP"})],4,{id:"firebutton"+e.index,onClick:function(t){var n=document.getElementById("firebutton"+e.index);t.stopPropagation(),u().publish(w,e.index),n.setAttribute("disabled","true"),window.setTimeout((function(){n.removeAttribute("disabled")}),300)}})};const kt=function(){var e=function(e){e.stopPropagation();var t=e.target.getAttribute("data-swaplang");u().publish(h,t),ae.saveLanguageSettings(t)},t=Tt()({"lang-button":!0});return(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"button",t,(0,o.createTextVNode)("JP"),2,{onClick:e,"data-swaplang":"JP"}),(0,o.createVNode)(1,"button",t,(0,o.createTextVNode)("EN"),2,{onClick:e,"data-swaplang":"EN"})],4)};const St=function(){var e=function(e){e.stopPropagation();var t=e.target.getAttribute("data-bgmvol");ae.saveBGMSettings(t)},t=Tt()({"mute-button":!0});return(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"button",t,(0,o.createTextVNode)("ON"),2,{onClick:e,"data-bgmvol":"0.7"}),(0,o.createVNode)(1,"button",t,(0,o.createTextVNode)("OFF"),2,{onClick:e,"data-bgmvol":"0"})],4)};var xt=null;const Et=function(){return xt||(xt=u().subscribe(E,(function(e,t){var n=document.getElementById("score");n.innerHTML=parseInt(n.innerHTML)+t})),u().subscribe(P,(function(e,t){document.getElementById("score").innerHTML="0"}))),(0,o.createVNode)(1,"div","score-keeper",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Score"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("スコア"),2,{"data-swaplang":"JP"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("0"),2,{id:"score"})],4)};var Pt=n(7347),jt=n.n(Pt),Ot=function(e){var t=this,n=function(){"function"==typeof t.listItemHandlers[t.state.keyboardSelected]&&t.listItemHandlers[t.state.keyboardSelected].call(t)},o={Enter:n,KeyZ:n,KeyX:function(){ie.resetConstack()},ArrowUp:this.menuMoveUp.bind(this),ArrowDown:this.menuMoveDown.bind(this),ArrowLeft:this.menuMoveUp.bind(this),ArrowRight:this.menuMoveDown.bind(this)};return this.canGoBack||(o.KeyX=at),void 0!==e&&(o=jt()(o,e)),st(o)};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function It(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==Lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Lt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Lt(i)?i:String(i)),o)}var r,i}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Vt(e);if(t){var r=Vt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(a,e);var t,n,r,i=Mt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).canGoBack=void 0===e.canGoBack||e.canGoBack,t.focusID=e.focusID,t.listItemHandlers=e.list.map((function(e){return e[1]})),t.localization=e.localization,t.max=e.list.length-1,t.state={keyboardSelected:-1},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=Ot.call(this,this.props.tableExtend);ie.setKeyboardEventHandler(this.focusID,e)}},{key:"componentWillUnmount",value:function(){ie.setKeyboardEventHandler(this.focusID)}},{key:"menuMoveUp",value:function(){this.setState({keyboardSelected:Math.max(0,this.state.keyboardSelected-1)})}},{key:"menuMoveDown",value:function(){this.setState({keyboardSelected:Math.min(this.max,this.state.keyboardSelected+1)})}},{key:"render",value:function(){var e=this,t=Array.isArray(this.props.disabled),n=this.props.list.map((function(n,r){var i=Tt()({cursorMenuItem:!0,showGoBackIcon:e.canGoBack,keyboardSelected:r===e.state.keyboardSelected,disabledCSS:!!t&&!!e.props.disabled[r]});e.props.listClasses&&(i=i+" "+e.props.listClasses[r].join(" "));var a=n[0],s=e.localization?(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"span",null,a,0,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,e.localization[r],0,{"data-swaplang":"JP"})],4):void 0;return(0,o.createVNode)(1,"div",i,s||a,0,{onClick:e.listItemHandlers[r],onTouchStart:at})}));return(0,o.createVNode)(1,"div","menu",n,0,{id:this.focusID})}}])&&It(t.prototype,n),r&&It(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z),Rt={EN:"Yukimin-san",JP:"雪民さん"},Bt="default",Dt="excited",Gt="wink",Jt="yoshi",Ft=[{SPKR:Rt,EXPR:Dt,EN:"Lamy-chan, Happy 2nd Anniversary!!",JP:"ラミィちゃん、活動二周年、おめでとうございます！！"},{SPKR:Rt,EXPR:Bt,EN:"What is this place? You can play a mini game here! Yukimin pop out and you launch food at them!",JP:"何この場所？ここにミニゲームプレーできるよ！！食品を投げて現れた雪民を倒す！"},{SPKR:Rt,EXPR:Gt,EN:"Feel free to try it! Oh and the Yukimin also wrote a bunch of fan messages for you too! You can read them here.",JP:"是非やってみてね！あ、みんなからの寄せ書きもあるよ！ここで読めるよ。"},{SPKR:Rt,EXPR:Jt,EN:"I'm sure you're tired from all the work these last few weeks, good job!",JP:"この数週間忙しくてきっと疲れたでしょ、お疲れ様です！"},{SPKR:Rt,EXPR:Dt,EN:"Here's to a wonderful third year!",JP:"三年目も素敵なことになりますように～！"}],Ht=[{SPKR:Rt,EXPR:Gt,EN:"One round! You got it! Get ready!",JP:"ラウンド1回か！了解！覚悟してね！"}],Ut=[{SPKR:Rt,EXPR:Dt,EN:"Times up! How did you do? ___ points! Not bad！",JP:"はい、タイムアップ～！どうだった？___ 点！悪くはない！"}],Kt=[{SPKR:Rt,EXPR:Dt,EN:"Times up! Wow!! ___ points! You did super well! You have really good aim!",JP:"タイムアップ～！すごい！___ 点！エーム力つよ！めっちゃ上手くやったよ！"}],Yt=[{SPKR:Rt,EXPR:Jt,EN:"Here's how to play the game! It's simple!",JP:"ゲームの遊び方はこれです！簡単ですよ！"}],Wt=[{SPKR:Rt,EN:"So many fanmessages! One of these might be mine...",JP:"ファンメッセージこんなにたくさん！この中の一つは多分僕の..."}];function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function $t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==zt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==zt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===zt(i)?i:String(i)),o)}var r,i}function Xt(e,t){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xt(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Qt(e);if(t){var r=Qt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}(this,n)}}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}const en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}(a,e);var t,n,r,i=Zt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).items=[["Fanletters",t.displayLettersModal.bind(qt(t))],["How To Play",t.displayHowToPlay.bind(qt(t))],["Play Game",t.playGame.bind(qt(t))],["Options",t.displayOptions.bind(qt(t))]],t.itemsJP=["寄せ書き","ゲーム説明","プレーする","設定"],t.itemsClasses=[[],[],[],[]],t.firstAssetLoaded=!1,t.state={disabledItems:Array.apply(null,new Array(t.items.length))},t}return t=a,(n=[{key:"displayLettersModal",value:function(){ie.setConstack(ee),u().publish(v,{track:Wt})}},{key:"displayHowToPlay",value:function(){ie.setConstack(ne),u().publish(v,{track:Yt})}},{key:"playGame",value:function(){u().publish(P),u().publish(T),u().publish(v,{track:Ht}),this.setState({disabledItems:this.items.map((function(){return!0}))}),ie.setConstack(oe);var e=function(t){if("babylonUnmuteIconBtn"!==t.target.id){document.body.style.cursor="default",document.body.removeEventListener("click",e),document.body.classList.add("INGAME"),u().publish(l,{name:""}),u().publish(c,"ready_set"),u().publish(k,0),u().publish(k,1),u().publish(k,2),u().publish(k,3),window.setTimeout((function(){u().publish(l,{name:Ce.loop_bgm_game}),document.body.classList.add("GAME_START"),window.setTimeout((function(){document.body.classList.add("HIDE_GO"),u().publish(x,{idx:0,dir:"right",food:"bento"}),u().publish(S,{pos:"LEFT",idx:1,food:"cake"}),window.setTimeout((function(){u().publish(x,{idx:2,dir:"left",food:"ramen"}),u().publish(S,{pos:"RIGHT",idx:1,food:"onigiri"})}),2e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:1,food:"bento"})}),3500),window.setTimeout((function(){u().publish(S,{pos:"MIDRIGHT",idx:0,food:"curry"})}),5e3),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:0,food:"cake"})}),7e3),window.setTimeout((function(){u().publish(x,{idx:1,dir:"left",food:"sushi"}),u().publish(S,{pos:"MIDRIGHT",idx:2,food:"ramen"})}),9200),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"onigiri"}),u().publish(S,{pos:"RIGHT",idx:1,food:"bento"})}),12e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:0,food:"ramen"})}),13900),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"curry"}),u().publish(S,{pos:"LEFT",idx:2,food:"cake"})}),15500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"left",food:"bento"}),u().publish(S,{pos:"MIDRIGHT",idx:2,food:"sushi"})}),17e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:2,food:"ramen"})}),18900),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"onigiri"}),u().publish(S,{pos:"MIDRIGHT",idx:0,food:"bento"})}),20500),window.setTimeout((function(){u().publish(S,{pos:"RIGHT",idx:2,food:"curry"})}),22e3),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"ramen"}),u().publish(S,{pos:"MIDRIGHT",idx:1,food:"sushi"})}),24300),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:2,food:"cake"})}),26500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"right",food:"bento"}),u().publish(S,{pos:"MIDLEFT",idx:2,food:"curry"})}),28200),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:2,food:"sushi"})}),29800),window.setTimeout((function(){u().publish(S,{pos:"RIGHT",idx:2,food:"cake"})}),31e3),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"ramen"}),u().publish(S,{pos:"LEFT",idx:0,food:"onigiri"})}),32e3),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"cake"}),u().publish(S,{pos:"MIDLEFT",idx:1,food:"bento"})}),33500),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:2,food:"curry"})}),35e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:1,food:"cake"})}),37e3),window.setTimeout((function(){u().publish(x,{idx:1,dir:"left",food:"sushi"}),u().publish(S,{pos:"MIDRIGHT",idx:2,food:"ramen"})}),39200),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"onigiri"}),u().publish(S,{pos:"RIGHT",idx:1,food:"bento"})}),42e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:0,food:"ramen"})}),43900),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"curry"}),u().publish(S,{pos:"RIGHT",idx:2,food:"cake"})}),45500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"right",food:"bento"}),u().publish(S,{pos:"RIGHT",idx:1,food:"sushi"})}),47e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:2,food:"ramen"})}),48900),window.setTimeout((function(){u().publish(x,{idx:2,dir:"left",food:"onigiri"}),u().publish(S,{pos:"RIGHT",idx:0,food:"cake"})}),50500),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:0,food:"curry"})}),52e3),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"ramen"}),u().publish(S,{pos:"MIDRIGHT",idx:1,food:"sushi"})}),54300),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:2,food:"cake"})}),56500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"right",food:"bento"}),u().publish(S,{pos:"MIDRIGHT",idx:0,food:"curry"})}),58200),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"onigiri"}),u().publish(S,{pos:"MIDRIGHT",idx:0,food:"bento"})}),60500),window.setTimeout((function(){u().publish(S,{pos:"RIGHT",idx:2,food:"curry"})}),62e3),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"ramen"}),u().publish(S,{pos:"MIDRIGHT",idx:1,food:"sushi"})}),64300),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:0,food:"cake"})}),66500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"left",food:"bento"}),u().publish(S,{pos:"MIDLEFT",idx:2,food:"curry"})}),68200),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"onigiri"}),u().publish(S,{pos:"RIGHT",idx:2,food:"bento"})}),7e4),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:0,food:"ramen"})}),73900),window.setTimeout((function(){u().publish(x,{idx:0,dir:"left",food:"curry"}),u().publish(S,{pos:"LEFT",idx:2,food:"cake"})}),75500),window.setTimeout((function(){u().publish(x,{idx:1,dir:"left",food:"bento"}),u().publish(S,{pos:"MIDRIGHT",idx:2,food:"sushi"})}),77e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:2,food:"ramen"})}),78900),window.setTimeout((function(){u().publish(x,{idx:2,dir:"right",food:"ramen"}),u().publish(S,{pos:"RIGHT",idx:2,food:"cake"})}),80500),window.setTimeout((function(){u().publish(S,{pos:"LEFT",idx:0,food:"onigiri"})}),82e3),window.setTimeout((function(){u().publish(S,{pos:"MIDLEFT",idx:1,food:"bento"})}),83500),window.setTimeout((function(){u().publish(S,{pos:"RIGHT",idx:0,food:"curry"})}),85e3),window.setTimeout((function(){u().publish(N)}),89100)}),500)}),1600);var n=u().subscribe(N,function(){u().unsubscribe(n),u().publish(l,{name:Ce.loop_bgm_title}),document.body.classList.remove("INGAME"),document.body.classList.remove("GAME_STARTED"),ie.setConstack(Q);var e=document.getElementById("score");if(parseInt(e.innerHTML)>=80){var t=JSON.parse(JSON.stringify(Kt));t[0].EN=t[0].EN.replace("___",e.innerHTML),t[0].JP=t[0].JP.replace("___",e.innerHTML),u().publish(v,{track:t})}else{var o=JSON.parse(JSON.stringify(Ut));o[0].EN=o[0].EN.replace("___",e.innerHTML),o[0].JP=o[0].JP.replace("___",e.innerHTML),u().publish(v,{track:o})}this.setState({disabledItems:this.items.map((function(){return null}))})}.bind(this))}}.bind(this);if(this.firstAssetLoaded)this.addGameStartClicker(e);else var t=u().subscribe(_,function(){u().unsubscribe(t),this.firstAssetLoaded=!0,this.addGameStartClicker(e)}.bind(this))}},{key:"addGameStartClicker",value:function(e){document.body.style.cursor="pointer",document.body.addEventListener("click",e)}},{key:"displayOptions",value:function(){ie.setConstack(te)}},{key:"render",value:function(){return(0,o.createComponentVNode)(2,Ct,{focusID:Q,list:this.items,localization:this.itemsJP,listClasses:this.itemsClasses,canGoBack:!1,disabled:this.state.disabledItems})}}])&&$t(t.prototype,n),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);var tn=n(2895),nn={messages:[{name:"Pingu",twit:"ThePingu27",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Wow! Time sure flies when you're in love... I mean having fun. Congrats on your 2nd anniversary of being in Hololive!! I look forward to many to come. You have inspired and touched the lives of many, and many more to come",art:"",prof:"",isJP:!1,msg_jp:"やば！やっぱ恋してると時間の経つことに気づかなくなる...まぁ、楽しんでるならばいいだよね。ホロライブに入って二周年おめでとう！！これからも楽しみにしています。あなたはさまざまの人にいい影響を与えたよ！"},{name:"Noth",twit:"Noth_Magna",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃんデビュー2周年おめでとうございます！もう3年目…時が経つのは早いなぁ。デビューから見てると色んなラミィちゃんに出会えた気がする。どのラミィちゃんも可愛くて大好きだよ！これからも色んなラミィちゃんを見せてね！3年目もこれからもずっとずっとラミィちゃん大好きだよ！",art:"",prof:"",isJP:!1,msg_jp:"。"},{name:"サイリノ",twit:"sairinosaika",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃん2周年おめでとうございます！新たな年が今まで以上に幸せな年になりますよう願っています！これからもラミィちゃんのこと応援し続けます！ラミィちゃん大好き！",art:"",prof:"",isJP:!1,msg_jp:""},{name:"Shock Therapist",twit:"endlessshackle",ctry:"Thailand",ctry_jp:"タイ",code:"th",post:"2021",msg:"Happy 2nd Anniversary! I hope Lamy and Yukimins stay strong and healthy so we can have fun and good time as long as we like!",art:"art/nishuunen/min/shock_.jpg",prof:"art/nishuunen/profile/endlessshackle.jpg",isJP:!1,msg_jp:"二周年おめでとう！ラミィちゃんと雪民さんのみんなが健康でいて好きなだけ色々楽しめることを祈ってます！"},{name:"Freak Video Gamer",twit:"Alan0Bits",ctry:"Mexico",ctry_jp:"メキシコ",code:"mx",post:"$15.00",msg:"Thank you for all your hard work Lamy-chan! you will always be the most beautiful Idol in my heart\n\nYour smile shines on the stage, and your lovely voice always cheers me up, you are such a wonderful person and deserve all the happiness in the world.\n\nI will love you forever!\nHappy 2nd Anniversary!",art:"art/nishuunen/min/fvg_.png",prof:"art/nishuunen/profile/fvg.jpg",isJP:!1,msg_jp:"ラミィちゃん、いっぱい頑張ってくれてありがとうございます！あなたはいつも僕の心の中の一番綺麗アイドルだよ。\nあなたの笑顔だけでステージが明るくする、そして素敵な声を聞くだけでいつも元気を出せることになる。あなたは素敵な人で世界中の幸せを恵まれてしかるべきだと思います\n\n何時もいつも大好きだよ！\n二周年おもでとうございます！"},{name:"Shockwave",twit:"",ctry:"Russia",ctry_jp:"ロシア",code:"ru",post:"56P",msg:"🎉🎊поздравления!🎉🎊\n\nIt has been 2 years since your debut and I am thankful that you always accompany me and fans for these years. I love you and I will cherish every moment with you so... please remember to take care yourself.\n\nLets keep going for another year shall we?😊",art:"",prof:"art/nishuunen/profile/shockwave.jpg",isJP:!1,msg_jp:"🎉🎊おめでとう！🎉🎊\n\nデビューからもう二周年でこの数年いつも私とファンのみんなと付き合ってくれてありがたいです。大好きです。あなたと過ごしてる時間大切にしてます...だから自分のことお大事にね\n\nさて、もう一年過ごしましょう😊"},{name:"StrawberryCandy",twit:"FilthyWeebb",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"I cant believe it's already been two years!  These past two years have been amazing, and I hope that we get many more to come! Lamy forever love!",art:"",prof:"",isJP:!1,msg_jp:"もう二年間で信じられん！この二年間素晴らしかった、これからももっとこんな様にといいな！ラミィフォエバーラブ！"},{name:"NamingSystem",twit:"NahminguSachim",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Happy 2nd Anniversary, Lamy-chan! It’s hard to believe that it’s already been 2 years since your debut, time really flies. But these past 2 years have been so much fun with you, thank you for everything! I hope you have a great 3rd year! Love you as always!",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん、二周年おめでとう！！デビューからもう二年だことを信じられないです、あっという間だったね。でもあなたと過ごしたこの二年間は楽しかったよ、たくさんありがとうね！三年目もよろしくお願いします！いつも大好きだよ！"},{name:"Kotowari",twit:"Yama_Devi",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Hello and Congrats on getting to your 2nd anniversary! 🥳 I've been a Yukimin since Jan last year, but haven't watched as much as the others do... but, regardless of that, I will always support you and the other girls even if I don't watch you guys all the time. 😊 I hope you have lots of fun! 💙🥳",art:"",prof:"",isJP:!1,msg_jp:"どうも、二周年おめでとうございます！🥳 去年の一月に雪民になったけどあんまり配信見てないです... だけど！とにかく！いつも見てないけどあなたとみんなのこと応援しますよ 😊 いっぱい楽しめるこよを願ってます💙🥳"},{name:"DivineSparta",twit:"",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Hello Lamy! Congratulations on your second anniversary! Thank you for being such a wonderful and joyful light in the lives of all of us Yukimins. You have gotten me through some really sad days, and I will be forever thankful. Here's to many more streams of fun and laughter! We love you Lamy!!!",art:"",prof:"",isJP:!1,msg_jp:"こんらみ！二周年おめでとうございます！私達雪民のみんなの素敵な明かりになってありがとうございます。本当に凹んだ時、あなたを見て立て直られました。いつも感謝してます。これからも楽しくて笑いがいっぱいある配信が出来るように！ラミィちゃん大好き!!!"},{name:"雪間くるるぎ",twit:"kururugi_yukima",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃん活動二周年おめでとう！\nこの1年は歌とダンスを頑張るんだって言ってたのを思い出すよ。めっっっっっちゃ頑張ってたね！！！！\nたくさん歌とダンスを聞いたり見たりできて最高だったよ、ありがとう！3年目の目標は分かんないけど、自分のペースでがんばってね。いつだって応援してるよ！\n改めておめでとう、これからもよろしくね！大好きだよー！！",art:"",prof:"art/nishuunen/profile/kururugi.jpg",isJP:!1,msg_jp:""},{name:"Aloyss",twit:"Aloyss__",ctry:"Malaysia",ctry_jp:"マレーシア",code:"my",post:"80sen",msg:"雪花ラミィちゃん二周年おめでっと！えらいね～　\nずっとラミィちゃん応援してます～\n大好きだよ～ \nฅ՞•ﻌ•՞ฅ",art:"",prof:"",isJP:!1,msg_jp:""},{name:"ZuRa始期",twit:"ZuRa415",ctry:"Indonesia",ctry_jp:"インドネシア",code:"id",post:"5000",msg:"I can't believe it's been 2 years since you came Lamy-chan!! in 2 years the journey really feels short but all full of happy memories of being with you, the other Yukimin and all the people who love you!\n\nI hope all these stories and this togetherness will last forever!! I love you Lamy!! (´∀｀)♡",art:"",prof:"",isJP:!1,msg_jp:"現れて二周年が経ったこと信じられないです！！二年間の旅が短いだと思うけどあなたとあなたを愛してる雪民のみんなと過ごした嬉しい思い出が溢れる二年間です！\nこの一緒ののストーリーが永遠に続くように！ラミィちゃん愛してます (´∀｀)♡"},{name:"LayLay [雪民]",twit:"",ctry:"Vietnam",ctry_jp:"ベトナム",code:"vn",post:"15000d",msg:"It's only been two years. Time passed so fast. Time with you is the best moment for me. I look forward to continuing to work with you. Let's create unforgettable memories together.",art:"",prof:"art/nishuunen/profile/laylay.jpg",isJP:!1,msg_jp:"もう二年です。速いですね。あなたと過ごす時間は一番です。これからもよろしくです。一緒に忘れられない思い出を作ろう"},{name:"Honey Satou",twit:"",ctry:"NO COUNTRY",ctry_jp:"",code:"",post:"2021",msg:"愛しています。死ぬまでも応援していきます！",art:"",prof:"art/nishuunen/profile/honeysatou.jpg",isJP:!1,msg_jp:""},{name:"Wrathkal",twit:"",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"Meeting Lamy-chan has been the best moment ever since I found Hololive. I will always love and support you!",art:"",prof:"",isJP:!1,msg_jp:"ホロライブを見つけた後ラミィちゃんと出会ったことは一番だと思います。いつもあなたのこと大好きです、応援するよ！"},{name:"Th3rdEye",twit:"Th3rdEye_",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Thank you Lamy for a wonderful 2 years! We've all seen how hard you've worked for the past 2 years and how much you've grown. I look forward to more fun times with you and the rest of NePoLaBo!",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん素敵な二年間ありがとうございます！ラミィちゃんがこの二年間どれだけ頑張って成長したことが皆が見たよ。これからもあなたとねぽらぼとの面白い時間楽しみにしてます！"},{name:"ヤマト",twit:"AlteredCore",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Happy 2nd Anniversary Lamy-chan!!!\n\nTime really flies by quickly! Thank you for all the fun streams you have given us over the years. I'm really glad to be a Yukimin since Lamy-chan's debut and I will keep supporting you always. \n\nLamy-chan will always be #1 in my heart! I Love you!",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとう！！！\n時間は本当に速いですね！この数年にいっぱい楽しい配信してくれてありがとうございます。デビューから雪民になってよかった、いつもあなたのことを応援するよ！\n\n心の中ラミィちゃんのことは何時も一番だよ！愛してます！"},{name:"Corneus/コロネウス",twit:"aubrey1408",ctry:"Indonesia",ctry_jp:"インドネシア",code:"id",post:"5000",msg:"Congratulations on your 2nd anniversary!\nLooking forward for the next anniversary as well! \nLet's enjoy this year as well as we can Lamy-chan, ラミィちゃん大好き！",art:"",prof:"art/nishuunen/profile/corneus.jpg",isJP:!1,msg_jp:"二周年おめでとうございます！これから次の記念日も楽しみにしてます！この一年もフルに楽しもう、ラミィちゃん大好き！"},{name:"Eugeo kun",twit:"azureholy",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"How has time passed, it is Lamy-chan's 2nd anniversary! Thank you for your continuous hard work, it is always a joy watching your streams and watching you grow as a person and vtuber. As always, will always be watching and supporting you! Let's have more fun this year as well. Love you Lamy-chan!!!",art:"",prof:"",isJP:!1,msg_jp:"あっという間だったな、もうラミィちゃんの二周年記念日だ！いつもの努力ありがとうございます、配信とあなたの成長を見ていつも幸せです。これからもいつものように見て応援するよ！この後の一年も楽しもう、ラミィちゃん大好きです！！！"},{name:"Emerjm",twit:"",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Congratulations on your 2nd year anniversary! Here is to more! I love you Lamy! May you be blessed for the future!",art:"",prof:"",isJP:!1,msg_jp:"二周年おもでとうございます！これからもいいことあるように！ラミィちゃん大好きだよ！未来に祝福がありますように！"},{name:"SanMarino",twit:"LolitaWantedIt",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"Wamy! Thank you for everything. When I couldn't see my friends or family over the pandemic, you really helped!",art:"",prof:"",isJP:!1,msg_jp:"ワミィ！色々ありがとうね。パンデミックで家族も友達も会えなかった時、ラミィちゃん本当に助かったよ！"},{name:"アルターラッテ",twit:"AlterLatte21",ctry:"Indonesia",ctry_jp:"インドネシア",code:"id",post:"5000",msg:"Lamy-chan! Congratulations on your 2nd year anniversary!!\n\nEven though there are bad and sad things, but I hope we can have more fun time in the future!!\nI will continue to support you from now on, and the next year, and so on and beyond!!\n\nYou're always being number one in my heart!\nこれからもずっと大好きだよ!!",art:"",prof:"art/nishuunen/profile/alterlatte.jpg",isJP:!1,msg_jp:"ラミィちゃん！二周年おめでとうございます！\n良くないことも悲しいこともあったけど今後もっと一緒に楽しい時間過ごせばいいな！！これからも、来年も、その次もいつも応援するよ！！！\n\n心の中あなたは一番だよ!\nこれからもずっと大好きだよ!!"},{name:"Momo Berry (ポタン・もも)",twit:"moe4790",ctry:"Canada",ctry_jp:"カナダ",code:"ca",post:"2021",msg:"Happy 2nd Year Anniversary, Lamy-chan! Feels only like yesterday, I was new to Hololive and was still searching for that Oshi that I can call mine. When I discovered you a little after your debut, I fell completely in love. Thank you for everything that you do for us. We Yukimin love you so much!!",art:"art/nishuunen/min/momoberry_.jpg",prof:"art/nishuunen/profile/momoberry.jpg",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとうございます！今も自分のホロライブが詳しくなくて推しを探してる姿が昨日のように覚えてます。デビューしたばかりのあなたを見つけてすぐ惚れた。色々してくれてありがとうございます。私達雪民があなたのこととてもとても大好きです！！"},{name:"MoguMoguTakoyaki",twit:"",ctry:"Malaysia",ctry_jp:"マレーシア",code:"my",post:"80sen",msg:"ラミィちゃんに出会えてからたくさんの幸せな思い出を貰いました、いつも可愛い笑顔と笑い声で僕の心を癒してくれてありがとう！裏でお仕事や作業沢山頑張ってたこと雪民はちゃんとわかってますからどうかあんまり無理せずラミィちゃんペースでこれからも活動頑張ってください！今後もずっとラミィちゃんの事を愛し応援します！！ずっと大好きです！！",art:"",prof:"art/nishuunen/profile/mogumogutakoyaki.png",isJP:!1,msg_jp:""},{name:"猫山亭撫子",twit:"yukihami_nyanko",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃん！活動2周年おめでとうございます！\n楽しいこともツラいことも、悲しいことも嬉しいこともたくさんあったと思います。\n3年目も元気で楽しく活動し、流す涙は嬉し涙であるようなそんな日々を過ごせますようお祈りいたします。\nラミィちゃんのこと、大好きですよ。愛してます。",art:"",prof:"art/nishuunen/profile/nekoyamanadeko.jpg",isJP:!1,msg_jp:""},{name:"X-Kill/Mau",twit:"MauCaVel",ctry:"Mexico",ctry_jp:"メキシコ",code:"mx",post:"$15.00",msg:"Congratulations on your second anniversary Lamy-chan!🎊\n\nTime has gone by so fast, it's crazy to think about it! It still feels like yesterday when I watched your debut.\n\nAnd now two years after that; I still love you, even more than what I did then!\nYou're my inspiration and my pride, I love you!💙",art:"art/nishuunen/min/x_.jpg",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとう！🎊\n本当にあっという間だったね、信じられない！初配信を見たことが昨日のように感じる。\n\nそれから二年、私はまだあなたのこと愛してます。あの時よりも！\nあなたは私のインスピレーション、誇りに思ってます、愛してる！💙"},{name:"Gessekai Goldener Adler",twit:"AdlerGoldener",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Congratulations on your2nd anniversary. It’s amazing how you’ve grown over the last two years and how many dreams you’ve achieved. How many more dreams of yours will you achieve in the future? Only time will tell and I look forward to supporting you through it all as I always have and always will.",art:"",prof:"art/nishuunen/profile/adler.jpg",isJP:!1,msg_jp:"二周年おめでとうございます。この二年で成就した夢そして達成した成長が凄いです。この後夢も何個成就するだろう？それは時間で分かる、全てを成就するまでいつものように応援するよ"},{name:"Razeluxe",twit:"Razeluxe_Nex",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"Happy 2nd Anniversary Lamy.  Another year have just passed since the first one and it's full of fun and enjoyment. Wishing you all the best in providing more love and fun content to the world.\n(つ≧▽≦)つ❤️",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとうございます。一年目からまた楽しいこと満々の一年。世界に楽しくて愛が込んでるコンテンツを与えるあなたが元気でいれることを願ってます(つ≧▽≦)つ❤️"},{name:"プライベートYK暁",twit:"5RdWXEsaFcZ4Hp9",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃん2周年おめでとう！この１年で念願の100万人にも到達したり手掛けた雪夜月も2ndシーズン出しそれが大会でブロンズメダル受賞、オリ曲や歌ってみたも積極的に出したり大きな爪痕残した１年だったね。これからもラミィちゃんの活躍に祝福がありますように！ラミィちゃん大好きだよ♡",art:"",prof:"art/nishuunen/profile/privateYK.jpg",isJP:!1,msg_jp:""},{name:"MoMo",twit:"",ctry:"Malaysia",ctry_jp:"マレーシア",code:"my",post:"80sen",msg:"Happy second anniversary Lamy, it has been a long journey and Lamy made it very fun along the way. Watching Lamy work so earnestly toward your goal and achieving them was inspiring, I'm so proud to have Lamy as my oshi. Thank you for joining Hololive, I will always love and support you.",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとう、今までの旅は長いけどラミィちゃんがその旅を楽しくされた。ラミィちゃんが目標を達成するために一生懸命に働く姿を見て感動します。ラミィちゃんは自慢の推しです。ホロライブに入ってくれてありがとうございます、いつもあなたのことを応援して愛するよ。"},{name:"Bading Gading",twit:"",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Congratulations on your 2nd Anniversary!  Your streams are always a delight to watch and I'm looking forward to many more to come!",art:"",prof:"",isJP:!1,msg_jp:"二周年おめでとうございます！あなたの配信を見るといつも嬉しくなるからこれからもっと楽しみにしてます！"},{name:"Nyara",twit:"Nyara_cc",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Konlamy! Congratulations on your second anniversary, Lamy-chan! It feels like your first anniversary was just recently. You continue to shine even brighter as a part of Hololive and I couldn't be happier to see you continue to do your best, day by day. \nLots of love, Nyara.",art:"",prof:"",isJP:!1,msg_jp:"こんらみ！ラミィちゃん二周年おめでとうございます！一周年がまだ最近のことのようだ。あなたがホロライブの一部として今も輝いてますよ、毎日頑張ってる姿を見てとても幸せです。\n心から大好きだよ　－ニャラ."},{name:"せちゃんceej",twit:"_revelink",ctry:"Philippines",ctry_jp:"フィリピン",code:"ph",post:"P100",msg:"Happy Anniversary Lamy! 🥳 It's been a pleasure to join your journey since debut! I'll keep on supporting you as long as I could! You're always my #1! I love you 💙 to more years to come! 💕",art:"",prof:"art/nishuunen/profile/ceej.jpg",isJP:!1,msg_jp:"ラミィちゃんハッピーアニバーサリー! 🥳 デビューからの旅ついていけて幸いでした！ 出来るだけ応援するよ！あなたは何時も一番推しだよ！大好きです💙これから何年もあるように！💕"},{name:"Bjorn117",twit:"Bjorn_117",ctry:"Mexico",ctry_jp:"メキシコ",code:"mx",post:"$15.00",msg:"Congrats Wamy!!! I love your voice and caring nature, and it is a pleasure to be another year with you! Please continue to amaze us with your content! Love from Mexico to my favorite Sake enthusiast!",art:"",prof:"art/nishuunen/profile/bjorn.png",isJP:!1,msg_jp:"ワミィちゃんおめでとう！！！あんたの声と優しい性格が大好きで、またあなたと一緒に一年を過ごせることが幸いです！これからもあなたの素敵なコンテンツよろしくお願いします！メキシコから僕の大好きな酒愛好家に愛をたくさん!"},{name:"KingAsrul96",twit:"KingAsrul96",ctry:"Malaysia",ctry_jp:"マレーシア",code:"my",post:"80sen",msg:"Happy 2nd anniversary Lamy!!\n\nWe yukimins are always proud of you, continue your good work as always and please take care of your health too!",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとうございます！！\n\n我々雪民達はいつもあなたのこと誇りに思ってます、これからもいつものようにがんばれ、体もお大事に!"},{name:"Mistle",twit:"Mistletin39",ctry:"Philippines",ctry_jp:"フィリピン",code:"ph",post:"P100",msg:"I can't believe it's been 2 years since your debut Lamy-chan it's always fun watching your streams it's both healing and soothing I can't wait to see what's in store for us in the coming years thank you for helping in taking our stress away with your soothing streams~",art:"",prof:"art/nishuunen/profile/mistexile.jpg",isJP:!1,msg_jp:"デビューからもう二周年で信じられないラミィちゃん、配信を見ることはいつも楽しくて癒されることもあります。この後の数年何があるのが楽しみにしてます。改めて癒しの配信で私達のストレスを減少してくれてありがとうございます！"},{name:"Carroto",twit:"",ctry:"Russia",ctry_jp:"ロシア",code:"ru",post:"56P",msg:"Happy 2nd anniversary, Keep on being cute and sweet as you are, really like your singing voice, hope to see more cute moments and more songs ",art:"art/nishuunen/min/Carrotoo_.png",prof:"",isJP:!1,msg_jp:"二周年おめでとう、いつものように可愛くて優しくいてください、あなたの歌声が本当に好きです。これからもっと可愛い思い出と歌が欲しいです"},{name:"Milkyfoxie",twit:"Milkyfoxie",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"ラミィちゃんとても大好きです！いつでも応援しますよ！",art:"",prof:"",isJP:!1,msg_jp:""},{name:"Naki",twit:"",ctry:"Vietnam",ctry_jp:"ベトナム",code:"vn",post:"15000d",msg:"Congratulations on your 2nd anniversary, Lamy-chan!\nIt's been a great time watching you until now, thank you for all of your hard work and all of the fun streams in this year! \nMe and all Yukimins will always support you and always love you, let's make alot more happy memories on the 3rd year!",art:"",prof:"art/nishuunen/profile/naki.jpg",isJP:!1,msg_jp:"二周年おめでとうございます、ラミィちゃん！今まであなたを見て楽しかった、この一年たくさん頑張ってくれて楽しい配信ありがとうございます！私と雪民のみんなはいつもあなたのことを応援して愛してます。三年目もたくさん嬉しい思い出を作りましょう！"},{name:"Zayden",twit:"Zayden_Haruto",ctry:"Philippines",ctry_jp:"フィリピン",code:"ph",post:"P100",msg:"Happy 2nd Anniversary Lamy!!!\nYou've really grown a lot in these past 2 years both as an idol and a streamer, and us yukimins have also grown closer with you and it makes me really happy.\nI will continue to support and watch you grow for years to come!\nI love you Lamy-chan !!!!💙",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとう！！！この二年間で本当にアイドルとしても配信者としてもいっぱい成長したな、そして僕達雪民と仲良くできてうれしいです。あなたの成長を見て応援していきます！ラミィちゃん大好き！！！！💙"},{name:"Ceradys",twit:"Cera_dys",ctry:"France",ctry_jp:"フランス",code:"fr",post:"€1.30",msg:"Congratulations for your 2nd anniversary Lamy-chan! It's been two years, i see in you the most beautiful and inspiring of all idols.\nIt's been a bliss to see you blossom a bit every day and that inspires us all!\n\nI can't wait to build more wonderful memories beside you, you're amazing!\n\nI love you.",art:"art/nishuunen/min/ceradys_.jpg",prof:"art/nishuunen/profile/ceradys.jpg",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとうございます！もう二年になって、あなたなら最も綺麗で感動されるアイドルになる将来性があると思います。毎日あなたが花の様に咲くこと見て感動します！\nあなたの傍でもっと素敵な思い出を作りたいです、あなたは凄いですよ！\n\n愛してます"},{name:"Stray Dragon Sneeki",twit:"timberwolf87",ctry:"Italy",ctry_jp:"イタリア",code:"it",post:"[B]",msg:"You did it again Lamy-Chan! Congrats on your 2nd anniversary! You grew up so much during these past 2 years and every day that passes I can't help but like you even more so than before!\nKeep on shining as bright as a star and let's keep on walking together on this adventure for years to come! 💗",art:"art/nishuunen/min/snek_.jpg",prof:"art/nishuunen/profile/snek.jpg",isJP:!1,msg_jp:"またやったね、ラミィちゃん！二周年おめでとうございます！この二年でこんなに成長したね、今も日に日にあなたのこと好きになっちゃいます！星のように輝き続けてこの後何年間も一緒に冒険に出かけよう！"},{name:"Mimi-573",twit:"",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"Congratulations on your 2nd anniversary Lamy-chan! I will keep supporting you now and forever!",art:"",prof:"art/nishuunen/profile/mimi573.jpg",isJP:!1,msg_jp:"ラミィちゃん二周年おめでとうございます！これからも何時までも応援するよ！"},{name:"Mormel",twit:"Mormel_EN",ctry:"Netherlands",ctry_jp:"オランダ",code:"nl",post:"2021",msg:"Thank you for your 2 years of hard work so far, Lamy! I'm glad to have you adding to my life making it more colorful and fun! ",art:"",prof:"",isJP:!1,msg_jp:"ラミィちゃん二年間の努力ありがとうございます！ラミィちゃんのおかげで毎日が豊かで楽しくなった！"},{name:"T1stG",twit:"T1stG",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"congratulations on 2nd anniversary~ love only lamy ^^",art:"",prof:"",isJP:!1,msg_jp:"二周年おめでとう～ラミィちゃんだけ好き ＾＾"},{name:"隻眼のダークネス・ドラゴンkira_",twit:"kira_kiraLL",ctry:"Japan",ctry_jp:"日本",code:"jp",post:"84",msg:"ラミィちゃん2周年おめでとう🎉\n1周年記念からあっという間の1年だったね\n初配信の時に掲げていた目標を達成できていてすごい！楽しくて幸せな毎日が過ごせているのはラミィちゃんのおかげ、色んな思い出をくれてありがとう。\nこれからの活動も応援しているよ、大好き愛してる！",art:"art/nishuunen/min/darkness_drag_.jpg",prof:"art/nishuunen/profile/darkness_drag.jpg",isJP:!1,msg_jp:""},{name:"Forever9Nine",twit:"_K_le",ctry:"Singapore",ctry_jp:"シンガポール",code:"sg",post:"$1.30",msg:"ラミィちゃん、２周年おめでとう〜！好き好き大好き！",art:"art/nishuunen/min/forevernine_.jpg",prof:"",isJP:!1,msg_jp:""},{name:"vtange",twit:"vtange",ctry:"United States of America",ctry_jp:"アメリカ",code:"us",post:"$1.20",msg:"ラミィちゃん、二周年おめでとうございます！\n\n去年一周年の時ラミィちゃんが雪民さんに｢色んなラミィちゃんを見せたい」と言って、それから確かに色んなラミィちゃんを見たな:  ブレワイのラミィ、ARKのラミィ、パソコン壊れて配信できないラミィ、健康生活しようとするラミィ、果汁グミ好むラミィ、そして歌もダンスも上手くなったラミィ！たくさんの思い出ありがとうね！\n\nどんなラミィちゃんでも愛してるよ！これからも頑張れ！",art:"",prof:"art/nishuunen/profile/vtange.png",isJP:!1,msg_jp:""}]};function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function rn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==on(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===on(i)?i:String(i)),o)}var r,i}function an(e,t){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},an(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=un(e);if(t){var r=un(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}var ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}(a,e);var t,n,r,i=sn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={tabs_list_expanded:!1,tab:0,messages:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){window.setTimeout(function(){this.setState({messages:nn.messages}),new tn.Z("#"+ee+" a").on("error.simplelightbox",(function(e){console.log(e)}))}.bind(this),1e3)}},{key:"closeMessagesScreen",value:function(e){this.setState({tabs_list_expanded:!1}),ie.setConstack(Q)}},{key:"render",value:function(){var e=this.state.messages.map((function(e){return t=e.name,n=e.twit,r=e.ctry,i=e.ctry_jp,a=e.code,s=e.post,u=e.msg,l=e.art,c=e.prof,d=e.isJP,f=e.msg_jp,p=n?(0,o.createVNode)(1,"span","user-twitter",[(0,o.createTextVNode)("@"),n],0):"",h=l?(0,o.createVNode)(1,"div","msg-art",(0,o.createVNode)(1,"a",null,(0,o.createVNode)(1,"img",null,null,1,{src:l,alt:"",title:""}),2,{href:l.replace(/\_\./g,".").replace(/art(.*)\/min/g,"art$1")}),2):"",m=f?(0,o.createVNode)(1,"div",null,(0,o.createVNode)(1,"p",null,f,0),2,{lang:"ja"}):"",y=u?(0,o.createVNode)(1,"div",null,(0,o.createVNode)(1,"p",null,u,0),2,{lang:d?"ja":"en"}):"",(0,o.createVNode)(1,"div","postcard",(0,o.createVNode)(1,"div","border",(0,o.createVNode)(1,"div","border-thin",[(0,o.createVNode)(1,"div","postcard-header",[(0,o.createVNode)(1,"div","user-info",[c?(0,o.createVNode)(1,"img","profile-pic",null,1,{src:c,alt:"",title:""}):"",(0,o.createVNode)(1,"span","user-name",t,0),p],0),(0,o.createVNode)(1,"div","stamp-outer",a?(0,o.createVNode)(1,"div","stamp-inner",[(0,o.createVNode)(1,"span","flag-icon flag-icon-"+a,null,1,{title:r}),(0,o.createVNode)(1,"span","stamp-amt","ca"===a?(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("🍁"),2):s,0),(0,o.createVNode)(1,"div","stamp-deco"),(0,o.createVNode)(1,"div","country-name",i,0)],4,{"data-code":a||""}):(0,o.createVNode)(1,"div","stamp-inner",[(0,o.createVNode)(1,"span","stamp-amt",(0,o.createTextVNode)("100"),2),(0,o.createVNode)(1,"div","stamp-deco"),(0,o.createVNode)(1,"div","country-name",(0,o.createTextVNode)("2021"),2)],4),0)],4),(0,o.createVNode)(1,"div","messages",[y,m,h],0)],4),2),2);var t,n,r,i,a,s,u,l,c,d,f,p,h,m,y}));return(0,o.createVNode)(1,"div","FULLSCRN darkenedBG tabbed-screen"+(this.props.classes?" "+this.props.classes:""),[(0,o.createVNode)(1,"div","close-button ",(0,o.createTextVNode)("×"),2,{onClick:this.closeMessagesScreen.bind(this)}),(0,o.createVNode)(1,"div","tab-content-container",(0,o.createVNode)(1,"section","postcards",e,0,{"data-tab":"0"}),0)],4,{id:ee,"data-tab":this.state.tab})}}])&&rn(t.prototype,n),r&&rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function dn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==cn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==cn(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===cn(i)?i:String(i)),o)}var r,i}function fn(e,t){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fn(e,t)}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=hn(e);if(t){var r=hn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}var mn=function(){return(0,o.createVNode)(1,"div","loadingIndic",(0,o.createTextVNode)("Loading"),2)},yn="FIRST_LOAD",bn=Object.create(null);bn[yn]=Date.now();const gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fn(e,t)}(a,e);var t,n,r,i=pn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={taskStatus:bn},t}return t=a,(n=[{key:"componentDidMount",value:function(){u().subscribe(g,function(e,t){bn[t.name]=Date.now(),t.prom.then(this.clearTask.bind(this,t.name)),this.setState({taskStatus:bn})}.bind(this)),window.setTimeout(this.clearTask.bind(this,yn),1e3),this.maybeToggleKeyboardEvts()}},{key:"componentWillUnmount",value:function(){u().unsubscribe(g)}},{key:"componentDidUpdate",value:function(){this.maybeToggleKeyboardEvts()}},{key:"maybeToggleKeyboardEvts",value:function(){var e=this.getIsLoading();document.body.setAttribute("data-loadscreen-active",e.toString())}},{key:"getIsLoading",value:function(){return Object.keys(this.state.taskStatus).length>0}},{key:"clearTask",value:function(e){delete bn[e],this.setState({taskStatus:bn})}},{key:"render",value:function(){return(0,o.createVNode)(1,"div","FULLSCRN loadingBG"+(this.getIsLoading()?"":" isHidden"),[(0,o.createVNode)(1,"div","FULLSCRN clickBlocker"),(0,o.createComponentVNode)(2,mn)],4)}}])&&dn(t.prototype,n),r&&dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);const vn=function(e){var t=Tt()({"close-button":!0});return(0,o.createVNode)(1,"div","modal"+(e.classes?" "+e.classes:""),[(0,o.createVNode)(1,"div","header-container",[(0,o.createVNode)(1,"h1",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("How to Play"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("プレーする方法"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div",t,(0,o.createTextVNode)("×"),2,{onClick:function(){ie.setConstack(Q)}})],4),(0,o.createVNode)(1,"section","content-container",[(0,o.createVNode)(1,"div","rule-row",[(0,o.createVNode)(1,"div",null,(0,o.createTextVNode)(" "),2),(0,o.createVNode)(1,"div",null,(0,o.createTextVNode)(" "),2),(0,o.createVNode)(1,"div","fire-button",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Fire"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("撃つ"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"h1",null,(0,o.createTextVNode)(":"),2),(0,o.createVNode)(1,"h1",null,(0,o.createTextVNode)("(っ'-' )╮ =͟͟͞͞=͟͟͞͞=͟͟͞͞  🍰 🍛 🍣 🍜 🍱 🍙"),2),(0,o.createVNode)(1,"div",null,(0,o.createTextVNode)(" "),2),(0,o.createVNode)(1,"div",null,(0,o.createTextVNode)(" "),2)],4),(0,o.createVNode)(1,"div","rule-row",[(0,o.createVNode)(1,"div","pt-rule",[(0,o.createVNode)(1,"img",null,null,1,{src:"assets/1pt.png",height:"214"}),(0,o.createVNode)(1,"h1",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("1 point"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("1点"),2,{"data-swaplang":"JP"})],4)],4),(0,o.createVNode)(1,"div","pt-rule",[(0,o.createVNode)(1,"img",null,null,1,{src:"assets/3pts.png"}),(0,o.createVNode)(1,"h1",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("3 points"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("3点"),2,{"data-swaplang":"JP"})],4)],4)],4)],4,null,null,(function(e){e&&(e.scrollTop=e.scrollHeight)}))],4,{id:ne})};const wn=function(e){var t=Tt()({"close-button":!0});return(0,o.createVNode)(1,"div","modal"+(e.classes?" "+e.classes:""),[(0,o.createVNode)(1,"div",t,(0,o.createTextVNode)("×"),2,{onClick:function(){ie.setConstack(Q)}}),(0,o.createVNode)(1,"h1",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Options"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("設定"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"section",null,[(0,o.createVNode)(1,"p",null,[(0,o.createVNode)(1,"h4",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Language Setting"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("言語設定"),2,{"data-swaplang":"JP"})],4),(0,o.createComponentVNode)(2,kt)],4),(0,o.createVNode)(1,"p",null,[(0,o.createVNode)(1,"h4",null,(0,o.createTextVNode)("BGM"),2),(0,o.createComponentVNode)(2,St)],4)],4),(0,o.createVNode)(1,"h1",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Credits"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("クレジット"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"section",null,[(0,o.createVNode)(1,"div","credits",[(0,o.createVNode)(1,"h4",null,[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Organizers"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("企画"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("vtange"),2),(0,o.createVNode)(1,"p",null,(0,o.createTextVNode)("X-Kill/Mau"),2)],4),(0,o.createVNode)(1,"h4","cred-en",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("BGM"),2),2),(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"p",null,(0,o.createTextVNode)("夜祭音頭 by MAKOOTO @ DOVA-SYNDROME"),2),(0,o.createVNode)(1,"p",null,(0,o.createTextVNode)("歌舞伎ダンシング by 山口 壮 @ DOVA-SYNDROME"),2)],4),(0,o.createVNode)(1,"h4","cred-en",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("SFX"),2),2),(0,o.createVNode)(1,"div","maybe-columns",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("soundeffect-lab.info"),2),2),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Yukimin Art"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("雪民イラスト"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Forever9Nine"),2),2),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Website"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("ウェブサイト"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("vtange"),2),2),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("3D Modeling"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("3D モデリング"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("vtange"),2),2),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Translator"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("翻訳"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("vtange"),2),2),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("QC"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("QC"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Fish-Flavored Water"),2),(0,o.createVNode)(1,"p",null,(0,o.createTextVNode)("heydric"),2)],4),(0,o.createVNode)(1,"h4","cred-en",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("Special Thanks"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("スペシャルサンクス"),2,{"data-swaplang":"JP"})],4),(0,o.createVNode)(1,"div","maybe-columns",[(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("To everyone who supports this project"),2,{"data-swaplang":"EN"}),(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("当企画を応援している皆様"),2,{"data-swaplang":"JP"})],4)],4),(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"p",null,(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("This is a fan project. We do not have any affiliation with Cover Corporation. It is strictly non-profit. Any unauthorized use of artwork or material in this site is strictly forbidden."),2,{"data-swaplang":"EN"}),2),(0,o.createVNode)(1,"p",null,(0,o.createVNode)(1,"span",null,(0,o.createTextVNode)("この本はファンによる企画です。カバー株式会社とは一切関係なく、完全に非営利目的です。このサイトに掲載されているイラストや素材を無断で使用する事を固く禁じます。"),2,{"data-swaplang":"JP"}),2)],4,{id:"disclaimer"})],4)],4,{id:te})};function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==Nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Nn(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Nn(i)?i:String(i)),o)}var r,i}function _n(e,t){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_n(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Sn(e);if(t){var r=Sn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Sn(e){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sn(e)}const xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_n(e,t)}(a,e);var t,n,r,i=kn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).languageSetting="JP",t.index=0,t.TEXT_SPEED=.02,t.animationTimeout=null,t.previousOffset=0,t.state={dialogueTrack:[],currentLine:"",currentSpkr:""},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.yukimin=document.getElementById("yukimin"),this.languageSetting=ae.get("lang"),u().subscribe(h,(function(t,n){e.languageSetting=n,e.redrawCurrentLine()})),u().subscribe(v,(function(t,n){n.track?e.changeDialogueTrack(n.track):console.log("No dialogue track found.")})),this.changeDialogueTrack(Ft)}},{key:"componentWillUnmount",value:function(){u().unsubscribe(h),u().unsubscribe(v)}},{key:"componentWillUpdate",value:function(e,t){if(t.currentLine!==this.state.currentLine){this.container.classList.remove("allTextShown"),this.container.classList.remove("animate");var n=this.container.querySelector(".dialogue-text");n&&(this.container.removeChild(n),this.container.appendChild(n))}}},{key:"componentDidUpdate",value:function(){this.container.classList.add("animate")}},{key:"changeDialogueTrack",value:function(e){var t;(null===(t=this.state)||void 0===t?void 0:t.dialogueTrack)!==e&&(this.index=0,this.setState({dialogueTrack:e,currentLine:e[0][this.languageSetting],currentSpkr:e[0].SPKR[this.languageSetting]}),this.preloadCharExpressionsForTrack(e))}},{key:"preloadCharExpressionsForTrack",value:function(e){for(var t=[],n=0;n<e.length;n++){var o=document.createElement("div");o.id="yukimin",o.style.pointerEvents="none",o.style.position="absolute",o.style.opacity="0",document.body.appendChild(o),e[n].EXPR&&(o.className=e[n].EXPR),t.push(o)}window.setTimeout((function(){for(var e=0;e<t.length;e++)document.body.removeChild(t[e])}),100)}},{key:"redrawCurrentLine",value:function(){this.state.dialogueTrack[this.index]&&this.setState({currentLine:this.state.dialogueTrack[this.index][this.languageSetting],currentSpkr:this.state.dialogueTrack[this.index].SPKR[this.languageSetting]})}},{key:"onTextAreaClick",value:function(){if(this.container)if(this.container.classList.contains("allTextShown")){if(this.outOfDialogue())return;this.container.classList.remove("allTextShown"),this.index++;var e=this.state.dialogueTrack[this.index];this.setState({currentLine:e[this.languageSetting],currentSpkr:e.SPKR[this.languageSetting]})}else this.animationTimeout&&window.clearTimeout(this.animationTimeout),this.container.classList.add("allTextShown")}},{key:"outOfDialogue",value:function(){return!this.state||!this.state.dialogueTrack[this.index+1]}},{key:"splitStringToSpans",value:function(e,t){var n=this;return e.split("").map((function(e,r){return(0,o.createVNode)(1,"span",null,e,0,{style:{"animation-delay":(n.previousOffset?0:.3)+(t?t+r:r)*n.TEXT_SPEED+"s"}})}))}},{key:"render",value:function(){var e,t=this;this.yukimin&&(this.state.dialogueTrack[this.index].EXPR!==Bt?this.yukimin.className=this.state.dialogueTrack[this.index].EXPR:this.yukimin.className="");var n=this.state.currentLine,r=!(null===n.match(/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/)),i=[],a=0;r?(i=this.splitStringToSpans(n),a+=n.length):i=n.split(" ").map((function(e,n){var r=(0,o.createVNode)(1,"span","word",t.splitStringToSpans(e,a),0);return a+=e.length,r}));var s=a*this.TEXT_SPEED*1e3,u=null!==(e=this.state)&&void 0!==e&&e.currentSpkr?(0,o.createVNode)(1,"span","spkr-name semi-transp-bg",this.state.currentSpkr,0):"";return this.previousOffset=a,(0,o.createVNode)(1,"div",null,[(0,o.createVNode)(1,"div","dialogue-container",[u,(0,o.createVNode)(1,"div","dialogue-text",i,0),(0,o.createVNode)(1,"span","next-arrow",(0,o.createTextVNode)("▼"),2)],0,{"data-offset":a},null,(function(e){t.container=e,t.animationTimeout=window.setTimeout((function(){e.classList.add("allTextShown")}),s)})),(0,o.createVNode)(1,"div","multi-choice-menu-container")],4,{id:"DIALOGUE",onClick:this.onTextAreaClick.bind(this)})}}])&&Tn(t.prototype,n),r&&Tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(le.Z);function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function Pn(){Pn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new S(r||[]);return o(a,"_invoke",{value:N(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var m={};u(m,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(x([])));b&&b!==t&&n.call(b,i)&&(m=b);var g=h.prototype=f.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==En(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function N(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=c(e,t,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=c(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}throw new TypeError(En(e)+" is not iterable")}return p.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new w(l(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),u(g,s,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function jn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ln(e,t,n,o,r,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(o,r)}var In=document.getElementById("app");function An(){var e;return e=Pn().mark((function e(){var t,n;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(In){e.next=4;break}console.error('No <div id="app">'),e.next=19;break;case 4:if("true"!==In.getAttribute("init")){e.next=8;break}console.warn("index.tsx attempted to run more than once. BundleJS injected more than once?"),e.next=19;break;case 8:return In.setAttribute("init","true"),t=[],e.t0=i.MT,e.t1=ue,e.next=15,se();case 15:e.t2=e.sent,e.t3=(0,a.Uo)(i.md.apply(void 0,jn(t))),n=(0,e.t0)(e.t1,e.t2,e.t3),(0,o.render)((0,o.createComponentVNode)(2,r.zt,{store:n,children:(0,o.createComponentVNode)(2,wt)}),In);case 19:case"end":return e.stop()}}),e)})),An=function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){Ln(i,o,r,a,s,"next",e)}function s(e){Ln(i,o,r,a,s,"throw",e)}a(void 0)}))},An.apply(this,arguments)}!function(){An.apply(this,arguments)}()},637:function(e,t,n){e=n.nmd(e),function(n,o){"use strict";function r(e,t,n){if(this.fernScene=e,this.scene=e.self,this.BJS=t||window.BABYLON,this.physicsEnabled=!1,n&&(window.CANNON||window.CannonJSPlugin)&&(this.physicsEnabled=!0),this.PBRwMinDarknLumMaterial=null,this.BJS&&this.BJS.RegisterMaterialPlugin&&this.BJS.MaterialPluginBase){this.PBRwMinDarknLumMaterial=class extends this.BJS.MaterialPluginBase{lumTexture;constructor(e){super(e,"PBRwMinDarknLum",200,{MINDARKNLUM:!1}),this._enable(!1)}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled!==e&&(this._isEnabled=e,this.markAllDefinesAsDirty(),this._enable(this._isEnabled))}prepareDefines(e,t,n){e.MINDARKNLUM=!0}getUniforms(){return{ubo:[{name:"shadeColor2",size:3,type:"vec3"}],fragment:"#ifdef MINDARKNLUM\n                                    uniform vec3 shadeColor2;\n                                #endif"}}getSamplers(e){e.push("lumTexture")}bindForSubMesh(e,t,n,o){this._isEnabled&&(e.updateColor3("shadeColor2",t.ambientColor),e.setTexture("lumTexture",this.lumTexture))}getClassName(){return"PBRwMinDarknLumPluginMaterial"}getCustomCode(e){return"fragment"===e?{CUSTOM_FRAGMENT_DEFINITIONS:"uniform sampler2D lumTexture;",CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR:"finalColor.rgb = max((mix(baseColor.rgb, finalColor.rgb, 0.25)+shadeColor2.rgb*.1).rgb, finalColor.rgb *1.5)*dot(texture(lumTexture, vMainUV1).rgb, vec3(0.9126, 1.2152, 0.1722));"}:null}};class e extends this.BJS.MaterialPluginBase{constructor(e){super(e,"PBRwMinDark",200,{MINDARK:!1}),this._enable(!1)}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled!==e&&(this._isEnabled=e,this.markAllDefinesAsDirty(),this._enable(this._isEnabled))}prepareDefines(e,t,n){e.MINDARK=!0}getUniforms(){return{ubo:[{name:"shadeColor",size:3,type:"vec3"}],fragment:"#ifdef MINDARK\n                                    uniform vec3 shadeColor;\n                                #endif"}}bindForSubMesh(e,t,n,o){this._isEnabled&&e.updateColor3("shadeColor",t.ambientColor)}getClassName(){return"PBRwMinDarkPluginMaterial"}getCustomCode(e){return"fragment"===e?{CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR:"finalColor.rgb = max((mix(baseColor.rgb, finalColor.rgb, 0.25)+shadeColor.rgb*.1).rgb, finalColor.rgb *1.5);"}:null}}this.BJS.RegisterMaterialPlugin("PBRwMinDark",function(t){return t instanceof this.BJS.PBRBaseMaterial&&-1===t.name.indexOf("FACEMATERIAL")?new e(t):null}.bind(this))}}n.ImportMeshWrapper=r,function(e){function t(e,t,n,o,r,i){var a=["x","y","z"];if(e.position.x=t,e.position.y=n,e.position.z=o,e.rotationQuaternion=null,Array.isArray(r)?(e.rotation.x=r[0]*Math.PI/180,e.rotation.y=r[1]*Math.PI/180,e.rotation.z=r[2]*Math.PI/180):e.rotation.y=r*Math.PI/180,i)for(var s=0;s<a.length;s++)e.scaling[a[s]]*=i}function n(e){function t(e,t,n){s.currentLoop&&o(),e.start(!0,1,t,n),e.setWeightForAllAnimatables(1),e.stopped=!1,s.currentLoop=e}function n(e,t,n){o(),e.start(!1,1,t,n)}function o(){a.forEach(r.bind(null))}function r(e){e.stop(),e.setWeightForAllAnimatables(0),e.stopped=!0}var i=Object.create(null),a=[],s=Object.create(null);return s.currentLoop=null,e.forEach((function(e){r(e),"_"===e.name[e.name.length-1]?(a.push(e),i[e.name]=t.bind(null,e,e.from,e.to)):i[e.name]=n.bind(null,e,e.from,e.to)})),i}function o(e,t,o,r,i){var a=Object.create(null),s=Object.create(null),u=[],l=[],c=[],d=e.getChildMeshes(),f={doNotInstantiate:!0},p=null,h=i+"~";function m(e,t){if(a[e.uniqueId]=t.uniqueId,s[t.uniqueId]=t,t.name=i?i+"~"+e.name:"cloneChar_"+Date.now(),t.morphTargetManager){var n=e.morphTargetManager;t.morphTargetManager=n.clone();for(var o=0;o<n.numTargets;o++){let e=n.getTarget(o),t=clonedMesh.morphTargetManager.getTarget(o);a[e.uniqueId]=t.uniqueId,s[t.uniqueId]=t}}}var y=e.instantiateHierarchy(null,f,(function(e,t){var n=e.material;if(m(e,t),t.material&&-1!==n.name.indexOf("FACEMATERIAL")){if(-1===c.indexOf(n)){let e=n.clone(h+n.name);c.push(n),a[n.uniqueId]=e.uniqueId,s[e.uniqueId]=e,u.push(e)}"InstancedMesh"!==t.getClassName()&&(t.material=s[a[n.uniqueId]]),p=t.material}}));if(o.forEach((function(e){var t=e.clone(h+e.name);for(var n of(e.overrideMesh&&(t.overrideMesh=s[a[e.overrideMesh.uniqueId]]),d))if(n.skeleton===e&&!n.isAnInstance){let e=s[a[n.uniqueId]];if(e.isAnInstance)continue;if(e.skeleton=t,-1!==l.indexOf(t))continue;for(var o of(l.unshift(t),t.bones))o._linkedTransformNode&&(o._linkedTransformNode=s[a[o._linkedTransformNode.uniqueId]])}})),Array.isArray(r))var b=n(r.map((function(e){return e.clone(h+e.name,(function(e){return s[a[e.uniqueId]]||e}))})));return{root:y,anims:b,mats:u,facemat:p,isClone:!0,clonePrefix:h}}e.prototype.applyMeshPositions=function(e,n,o){var r;if(e.length>1){for(var i=0;i<e.length;i++)this.createInstanceAt(n,o,e[i]);n.isVisible=!1,n.getChildMeshes().forEach((function(e){e.isVisible=!1}))}else t(n,(r=e[0])[0][0],r[0][1],r[0][2],r[1],r[2])};var r=0;function i(e,t,n,o){var r=this.BJS||window.BABYLON,i=(this.BJS?this.BJS.MToonMaterial:null)||window.MToonMaterial,a=this.fernScene,s=Array.isArray(e.instances),u=null,l=e.name?e.name.replace(/_primitive\d+/,""):o.name,c=-1!==t.name.indexOf("FACEMATERIAL"),d=!!o.toonShadeCol&&!c,f=t.name.split("^^");if(t.name="orig@"+o.name+"@"+e.name+"@"+t.name,s&&(e.receiveShadows=!0),d&&!t.useAlphaFromAlbedoTexture&&(a.shadowGen&&(e.receiveShadows=!1),u=new i("m2n<-"+t.name,a.self),t.albedoTexture&&(u.diffuseTexture=t.albedoTexture.clone()),o.toonShadeShift&&(u.shadeShift=o.toonShadeShift),u.cullMode=2,u.outlineWidth=.36,u.outlineWidthMode=0,u.shadeColor=o.toonShadeCol[e.name]?new r.Color3(o.toonShadeCol[e.name][0],o.toonShadeCol[e.name][1],o.toonShadeCol[e.name][2]):new r.Color3(.496,.496,.616),e.material=u,t.dispose()),a.shadowGen&&(n&&(t.unlit=!1),("object"==typeof o.noShadow?o.noShadow[l]:o.noShadow)||a.shadowGen.addShadowCaster(e)),o.dblSided&&(t.backFaceCulling=!1),o.unlit||c)t.unlit=!0,t.ambientColor=new r.Color3(1,1,1);else if(t instanceof r.PBRBaseMaterial&&s&&!o.toonShadeCol){t.metallic=f[1]?parseFloat(f[1]):.38,t.roughness=f[2]?parseFloat(f[2]):1,t.metallic>=.8&&(t.sheen.isEnabled=!0),o.useAlbedoAsLightmap&&(t.lightmapTexture=t.albedoTexture.clone(),t.lightmapTexture.level=.55),t.useAlphaFromAlbedoTexture&&(t.useAlphaFromAlbedoTexture=!0,o.dblSided?t.transparencyMode=r.Material.MATERIAL_ALPHATEST:(t.transparencyMode=r.Material.MATERIAL_ALPHATESTANDBLEND,t.sheen.linkSheenWithAlbedo=!0,t.sheen.intensity=.4,t.sheen.isEnabled=!0,t.backFaceCulling=!1,t.needDepthPrePass=!0));var p=t.pluginManager.getPlugin("PBRwMinDark");t.ambientTexture&&this.PBRwMinDarknLumMaterial?(t.testplugin=new this.PBRwMinDarknLumMaterial(t),t.testplugin.lumTexture=t.ambientTexture,t.testplugin.isEnabled=!0):p&&(p.isEnabled=!0)}return c}e.prototype.createInstanceAt=function(e,n,o){var i=this.BJS||window.BABYLON,a=this.fernScene,s=e.geometry?[e]:e.getChildMeshes(),u=new i.TransformNode(n.name+"_tfNode_"+r);u.scaling.z*=-1;for(var l=null,c=0;c<s.length;c++)l=s[c].createInstance(s[c].name+"_inst_"+r),r++,l&&(l.isPickable=!1,l.scaling=s[c].scaling.clone(),s.length>1?l.position=s[c].position.clone():(l.position.x=0,l.position.y=0,l.position.z=0),s[c].rotationQuaternion?l.rotationQuaternion=s[c].rotationQuaternion.clone():l.rotation=s[c].rotation.clone(),l.parent=u,Array.isArray(o)?t(u,o[0][0],o[0][1],o[0][2],o[1],o[2]):"number"==typeof o.x&&(u.position=o),a.shadowGen&&!n.noShadow&&a.shadowGen.addShadowCaster(l));return u},e.prototype.loadMeshes=function(e,t){var n=[];for(var o in e.furns){var r=t[o],i=this.ImportMesh(r);i.then(function(n,o){this.applyMeshPositions(e.furns[n],o.root,t[n])}.bind(this,o)),n.push(i)}return{promiseChain:n}},e.prototype.ImportMesh=function(e){var t=this.BJS||window.BABYLON,r=this.scene,a=this;return new Promise((function(s,u){t.SceneLoader.ImportMesh(e.nodes.length>1?e.nodes:e.nodes[0],e.path[0],e.path[1],r,(function(l,c,d,f){var p=null,h=null,m=[],y=[],b=e.isCollisionMesh,g=e.isNavMesh,v=e.mustCatchShadows;if(!l.length)return console.log("failed to load model: ",e.nodes,e.path[0],e.path[1]),void u();l.forEach((function(n){n.isPickable=!1,n.applyFog=!1,-1!=n.name.indexOf("root")&&(n.rotationQuaternion=null,n.rotation.x=0,n.rotation.y=0,n.rotation.z=0,p=n),n.geometry&&(y.push(n),(g||b)&&(n.isVisible=!1),a.physicsEnabled&&b&&(t.PhysicsImpostor?r.mapImpostor=n.physicsImpostor=new t.PhysicsImpostor(n,t.PhysicsImpostor.MeshImpostor,{mass:0,restitution:1,ignoreParent:!0},r):console.log("failed to set collider: BABYLON.PhysicsImpostor not defined"))),n.material&&(i.call(a,n,n.material,v,e)&&(h=n.material),m.push(n.material))})),v||b||g?s({manifest:e,anims:f,mats:m,facemat:h,meshes:l,root:p}):(!m.length>1&&(p=y[0]),p.rotationQuaternion=null,p.rotation.x=0,p.rotation.y=0,p.rotation.z=0,p.name="__root_"+e.name,s({manifest:e,anims:d.length?n(f):Object.create(null),mats:m,facemat:h,root:p,isClone:!1,clonePrefix:"",arrCharNames:[],newCharOrMeshInstance:d.length?o.bind(a,p,e,d,f):a.createInstanceAt.bind(a,p,e)}))}))}))}}(r),void 0!==e&&e.exports&&(t=e.exports=r),t.ImportMeshWrapper=r,e.exports=t=r}("object"==typeof window&&window||this)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],s=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[u])))?n.splice(u--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,u]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(u)var c=u(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=self.webpackChunkflaire_engine=self.webpackChunkflaire_engine||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.O(void 0,[821],(()=>o(7588)));var r=o.O(void 0,[821],(()=>o(3854)));r=o.O(r)})();